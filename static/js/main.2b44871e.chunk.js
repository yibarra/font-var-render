(this["webpackJsonpfont-var-render"]=this["webpackJsonpfont-var-render"]||[]).push([[0],{186:function(e,t,n){e.exports=n(394)},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},373:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},394:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),i=n.n(c),o=n(412),l=n(8),s=n(12),u=n(16),f=n(20),m=n(19),d=n(174),b=n.n(d),v=new(function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).load(),e}return Object(u.a)(n,[{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.renderView(e,t)}}]),n}(function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).chunks=void 0,e.mediaRecorder=void 0,e.videoStream=void 0,e.chunks=[],e}return Object(u.a)(n,[{key:"capture",value:function(e){var t=this;if(e instanceof Object===!1)return!1;this.videoStream=this.canvas.captureStream(29,97),this.mediaRecorder=new MediaRecorder(this.videoStream);var n=document.querySelector("video");this.mediaRecorder.ondataavailable=function(e){var n=e.data;return n.size>0?t.chunks.push(n):null},this.mediaRecorder.onstop=function(){var e=new Blob(t.chunks,{type:'video/mp4; codecs="avc1.4d002a"'});t.chunks=[];var a=URL.createObjectURL(e);n.src=a,n.onloadeddata=function(){return t.generateVideo(e)}}}},{key:"canvasDrawing",value:function(){var e,t=window.devicePixelRatio,n=null===(e=this.canvas)||void 0===e?void 0:e.getContext("2d");if(n.scale(t,t),n instanceof Object){var a=document.body.querySelectorAll(".letter-item-animation canvas"),r=document.body.querySelector(".preview--content");if(n.clearRect(0,0,1920,1080),n.beginPath(),a instanceof Object){var c=null===r||void 0===r?void 0:r.getBoundingClientRect(),i=c.x,o=c.y;a.forEach((function(e){if(e instanceof Object){var t=e.getBoundingClientRect();t.width&&t.height&&n.drawImage(e,t.x-i,t.y-(o-270),t.width,t.height)}}))}}}},{key:"renderView",value:function(e,t){this.canvas||(this.canvas=document.body.querySelector("#preview-canvas"),this.capture(this.canvas)),!0===t?this.mediaRecorder instanceof Object&&"recording"!==this.mediaRecorder.state&&(console.log("play"),this.mediaRecorder.start()):"inactive"!==this.mediaRecorder.state&&(console.log("stop"),this.mediaRecorder.stop(),this.capture(this.canvas)),this.canvasDrawing()}}]),n}(function(){function e(){Object(s.a)(this,e),this.canvas=void 0,this.recorder=void 0,this.aab=void 0,this.canvas=document.body.querySelector("#preview-canvas"),this.aab=[]}return Object(u.a)(e,[{key:"load",value:function(){this.canvas=document.body.querySelector("#preview-canvas")}},{key:"postBlob",value:function(e){var t=this,n=new FormData;n.append("file",e),b()({method:"POST",url:"https://font-var-render-server.herokuapp.com/upload-video",headers:{"Content-Type":"multipart/form-data"},data:n}).then((function(n){return t.download(window.URL.createObjectURL(e))})).catch((function(e){return console.log(e)}))}},{key:"download",value:function(e){var t=document.createElement("a");t.style.display="none",t.href=e,t.download="video",document.body.appendChild(t),t.click()}},{key:"generateVideo",value:function(e){this.postBlob(e)}}]),e}()))),h=function(e){var t=Object(a.useRef)(window.requestAnimationFrame),n=Object(a.useRef)(),r=Object(a.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1],s=null,u=function a(r){var c=Date.now()-s;c<"3000"?(e(c),v.render(c,!0),t.current=requestAnimationFrame(a)):f(),n.current=r},f=function(){cancelAnimationFrame(t.current),v.render(0),o(!1)};return Object(a.useEffect)((function(){return function(){return cancelAnimationFrame(t.current)}}),[]),{play:i,setPlay:o,onPlay:function(){s=Date.now(),t.current=requestAnimationFrame(u),v.render(0,!0),o(!0)},onStop:f}},p=Object(a.createContext)({}),j=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)(0),c=Object(l.a)(n,2),i=c[0],o=c[1],s=h((function(e){var t=.001*e;t>=.01&&o((function(){var t=(e-1e3)/1e3*100;return t>100?100:parseFloat(t.toString()).toFixed(2)}))})),u=s.play,f=s.setPlay,m=s.onPlay,d=s.onStop,b=Object(a.useCallback)((function(){var e=!u;!0===e?(f(e),m()):d()}),[m,d,u,f]);return r.a.createElement(p.Provider,{value:{current:i,setCurrent:o,play:u,onPlay:b}},t)})),O=n(57),g=n.n(O),E=n(79),x=n(116),y=n(175),C=n.n(y),k=n(403),w=Object(a.createContext)({}),N=function(e){var t=e.children,n=Object(a.useCallback)((function(e,t){k.a.open({title:e,duration:5e3,description:t})}),[5e3]),c=Object(a.useCallback)((function(e,t){k.a.info({title:e,duration:5e3,description:t})}),[5e3]),i=Object(a.useCallback)((function(e,t){k.a.error({title:e,duration:5e3,description:t})}),[5e3]);return r.a.createElement(w.Provider,{value:{notificationBasic:n,notificationSuccess:c,notificationError:i}},t)},S=n(9),P=Object(a.createContext)({}),F=Object(a.memo)((function(e){var t=e.children,n=e.font,c=e.getFvarTable,i=Object(a.useState)(),o=Object(l.a)(i,2),s=o[0],u=o[1],f=Object(a.useState)({coordinates:{name:{en:"Neutra"},coordinates:{wdth:30,wght:0}}}),m=Object(l.a)(f,2),d=m[0],b=m[1],v=Object(a.useCallback)((function(e){u(Object(S.a)(Object(S.a)({},s),e))}),[u,s]),h=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var n=Object.keys(e).map((function(t){return"'".concat(t,"' ").concat(e[t])}));n&&t instanceof Object&&(t.style.fontVariationSettings=n.join());return!0}),[]),p=Object(a.useCallback)((function(e,t){if(c(n)){var a=Object(S.a)(Object(S.a)({},s),e);h(a,t)&&u(a)}}),[s,c,h,n]),j=Object(a.useCallback)((function(e){h(e,document.body),b(e)}),[h]);return Object(a.useEffect)((function(){!function(){var e=document.body;e instanceof Object&&(e.style.fontVariationSettings='"wdth" 30, "wght" 0')}()}),[n]),r.a.createElement(P.Provider,{value:{settings:s,setNamedInstance:v,setNamedInstanceValue:p,setInstanceValue:h,initialState:d,setInitialState:j}},t)})),A=function(e){var t=Object(a.useCallback)((function(e){return!!e.tables&&e.tables.fvar}),[]),n=Object(a.useCallback)((function(n){var a=t(e);return a?a.instances[n]:null}),[e,t]),r=Object(a.useCallback)((function(n){var a=t(e);if(a){for(var r=[],c=a.instances[n].coordinates,i=0;i<a.axes.length;i++)r.push("'".concat(a.axes[i].tag,"' ").concat(c[a.axes[i].tag].toString()));return r.join()}return null}),[e,t]);return{getFvarTable:t,getNamedInstance:n,getNamedInstanceSetting:r}},R=Object(a.createContext)({}),T=Object(a.memo)((function(e){var t=e.children,n=Object(a.useContext)(w),c=n.notificationSuccess,i=n.notificationError,o=Object(a.useState)(),s=Object(l.a)(o,2),u=s[0],f=s[1],m=A(u).getFvarTable,d=function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},b=Object(a.useCallback)(function(){var e=Object(E.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document instanceof Object&&(a=C.a.encode(d(new Uint8Array(n))),r="@font-face {\n        font-family: '".concat(t.names.fontFamily.en,"';\n        src: url('data:;base64,").concat(a,"') format('truetype');\n      }"),document.getElementById("font-load").textContent=r,c("Upload","The type font was successfully loaded!"));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c]),v=Object(a.useCallback)((function(e){var t=new FileReader;t.onload=function(e){try{var t=e.target.result,n=x.a.parse(t);f(n),b(n,t)}catch(a){i("Erro loading","Verify the font file and try again!"),console.error(a.toString())}},t.onerror=function(e){i("Erro loading","Verify the font file and try again!"),console.error(e.toString())},t.readAsArrayBuffer(e)}),[b,i]);return Object(a.useEffect)((function(){!function(){var e="".concat("/font-var-render").concat("/fonts/canal-brasil.ttf");fetch(e).then((function(e){return e.blob()})).then((function(t){var n=new File([t],"untitled",{type:t.type});x.a.load(e,(function(e,t){e?console.log(e):(document.body.style.fontFamily=t.names.fontFamily.en,f(t))})),v(n)}))}()}),[v]),r.a.createElement(R.Provider,{value:{font:u,onLoad:v}},r.a.createElement(F,{font:u,getFvarTable:m},t))})),I=Object(a.createContext)({}),L=function(e){var t=e.children,n=Object(a.useState)("CANAL BRASIL"),c=Object(l.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)({fontSize:65,lineHeight:1,letterSpacing:-10,textAlign:"left"}),u=Object(l.a)(s,2),f=u[0],m=u[1];return r.a.createElement(I.Provider,{value:{text:i,setText:o,textProperties:f,setTextProperties:m}},t)},V=n(38),B=n(177),W=n.n(B),q=(n(265),Object(a.memo)((function(e){var t=e.letter,n=e.text,c=e.setInstanceValue,i=e.textProperties,o=Object(a.useContext)(p).current,s=Object(a.useRef)(null),u=Object(a.useCallback)((function(e,t){var n=e.getBoundingClientRect(),a=n.width,r=n.height,c=e.parentNode.querySelector(".canvas");if(c){var o=c.getContext("2d");c.setAttribute("width",a),c.setAttribute("height",r),o&&(o.clearRect(0,0,a,r),o.beginPath(),o.font="".concat(i.fontSize,"px Canal Brasil VF"),o.fillStyle="white",o.textBaseline="middle",o.fillText(t,0,r/2))}}),[i]),f=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var a={},r=e.settings,i=e.instance;if(r!==i){var s=o;Object.entries(i.coordinates).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1],i=r.coordinates[n];if(!0===c<i){var u=Math.abs(c-i);if(u>0)if(0===c){var f=u-o;a[n]=f>c?f:c}else{var m=i-s;a[n]=m>c?m:c}else a[n]=c}else if(i===c)a[n]=c;else{var d=c*o/100;a[n]=d>c?c:d}}))}else a=r;u(t,n),c(a,t)}),[o,c,n,u]);return Object(a.useEffect)((function(){t.settings&&f(t,s.current)}),[t,f]),r.a.createElement("div",{className:"letter-item-animation",ref:s},r.a.createElement("p",{className:"letter--text end"},n),r.a.createElement("canvas",{className:"canvas"}))}))),z=(n(266),Object(a.memo)((function(e){var t=e.instanceFont,n=e.setInstanceValue,c=e.text,i=e.onSelect,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){o.current&&n(t.coordinates,o.current)}),[c,t,n,o]),r.a.createElement("div",{className:"letter-item",ref:o,onClick:function(){return i(t.coordinates)}},r.a.createElement("p",{className:"letter--text"},c))}))),M=(n(267),Object(a.memo)((function(e){var t=e.current,n=e.setInstanceValue,c=e.instances,i=e.text,o=e.onSelect,l=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=c.filter((function(t){return t.coordinates===e}));t.length>0&&o(t[0])}),[o,c]);return r.a.createElement("ul",{className:"letter-type"},c&&c.map((function(e,a){return r.a.createElement("li",{className:"letter-type--item","data-active":t.coordinates===e.coordinates,key:a},r.a.createElement(z,{instanceFont:e,setInstanceValue:n,text:i,onSelect:l}))})))}))),H=(n(268),Object(a.memo)((function(e){var t=e.items,n=e.fvar,c=e.index,i=e.text,o=e.type,s=e.onChange,u=Object(a.useContext)(P),f=Object(a.useContext)(D),m=Object(a.useContext)(I),d=u.setInstanceValue,b=u.initialState,v=f.updateLetterItem,h=m.textProperties,p=Object(a.useRef)(),j=Object(a.useState)({index:c,instance:b.coordinates,easing:[.83,.01,.47,.59],settings:b.coordinates}),O=Object(l.a)(j,2),g=O[0],E=O[1],x=function(){return Array.isArray(t)&&t&&t.filter((function(e){return e===g})).length>0},y=Object(a.useCallback)((function(e){v(c,{instance:Object(S.a)({},e)}),d(e,p.current)}),[c,v,d]),C=Object(a.useCallback)((function(e){v(c,{settings:Object(S.a)({},e)})}),[c,v]);return Object(a.useEffect)((function(){if(Array.isArray(t)){var e=t.filter((function(e){return e.index===c}));e.length>0&&E(e[0])}}),[t,c,E]),r.a.createElement("div",{className:"letter",ref:p,"data-active":x(),"data-type":o},r.a.createElement("p",{className:"letter--text",onClick:function(){return s(g)}},i),2===o&&r.a.createElement(M,{instances:n instanceof Object?n.instances:[],current:g.settings,onSelect:C,setInstanceValue:d,text:i,key:1}),2===o&&r.a.createElement(M,{instances:n instanceof Object?n.instances:[],current:g.instance,onSelect:y,setInstanceValue:d,text:i,key:2}),3===o&&r.a.createElement(q,{letter:g,text:i,textProperties:h,setInstanceValue:d}),2===o&&x()&&r.a.createElement("div",{className:"letter--easing"},r.a.createElement(W.a,{height:200,curveColor:"red",width:330,defaultValue:g.easing,readOnly:!0})))}))),U=(n(269),Object(a.memo)((function(e){var t=e.font,n=e.word,a=e.letters,c=e.getFvarTable,i=(e.index,e.type),o=e.onChange;return r.a.createElement("div",{className:"word"},function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],l=0;l<t.length;l++){for(var s=t[l],u=0;u<s.length;u++){var f=s[u];n.push(r.a.createElement(H,{items:a,fvar:c(e),text:f,index:"".concat(f,"-").concat(l,"-").concat(u),key:"".concat(f,"-").concat(l,"-").concat(u),type:i,onChange:o}))}l===t.length-1&&n.push(r.a.createElement(H,{items:a,fvar:c(e),text:"\xa0",type:1,key:1,index:1,onChange:function(){}}))}return n}(t,n))}))),D=Object(a.createContext)({}),J=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],o=c[1],s=Object(a.useCallback)((function(e){switch(e){case"right":return"flex-end";case"center":return"center";default:return"flex-start"}}),[]),u=Object(a.useCallback)((function(e){return i.length>0&&i.filter((function(t){return t.index===e}))[0]}),[i]),f=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=u(e.index);o(t instanceof Object?i.filter((function(e){return e!==t})):[].concat(Object(V.a)(i),[e]))}),[i,o,u]),m=Object(a.useCallback)((function(e,t){var n=u(e);if(n instanceof Object){var a=i;a[a.indexOf(n)]=Object(S.a)(Object(S.a)({},n),t),o(Object(V.a)(a))}}),[i,o,u]),d=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.trim().split(" ")}),[]),b=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.split(/\r?\n/)}),[]),v=Object(a.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=b(e),a=0;a<n.length;a++){for(var r=n[a],c=d(r),i=0;i<c.length;i++)t.push({character:1,item:c[i],index:"".concat(a).concat(i)});t.push({character:2,item:{}})}return t}),[d,b]),h=Object(a.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,o=[],l=v(t),s=0;s<l.length;s++){var u=l[s],f=u.character,m=u.item,d=u.index;switch(f){case 2:o.push(r.a.createElement("div",{className:"separator",key:"separator".concat(s)}));break;case 1:default:o.push(r.a.createElement(U,{index:s,key:d,font:e,word:m,letters:i,getFvarTable:n,type:c,onChange:a}))}}return o}),[i,v]);return r.a.createElement(D.Provider,{value:{letters:i,setAll:o,setLetters:f,getLetter:u,updateLetterItem:m,getCountWords:d,getLineBreak:b,getAlign:s,textWordLetter:h,textWordLetterArray:v}},t)})),G=Object(a.createContext)({}),$=function(e){var t=e.children,n=Object(a.useContext)(R),c=Object(a.useContext)(D),i=n.font,o=A(i).getFvarTable,l=c.setAll,s=c.textWordLetterArray,u=Object(a.useCallback)((function(e,t){return e.filter((function(e){return e.index===t})).length>0}),[]),f=Object(a.useCallback)((function(e){var t=o(i).instances;if(t instanceof Object)for(var n in t){var a=t[n];if(a instanceof Object&&e===a.name.en)return a}return{}}),[o,i]),m=Object(a.useCallback)((function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=a.init,c=a.index,i=a.type,o=a.bezier;t.push({index:c,easing:o,instance:f(i),settings:f(r)})}return t}),[f]),d=Object(a.useCallback)((function(e,t){for(var n=[],a=s(e).filter((function(e){return 1===e.character})),r=0;r<a.length;r++){var c=a[r],i=c.item,o=c.index,f=t[r];if(f)for(var d=0;d<f.limit;d++){var b=Math.floor(Math.random()*c.item.length+1),v=Math.floor(Math.random()*f.limit+1),h=i[b-1],p="".concat(h,"-").concat(b-1,"-").concat(o.toString()[o.length-1]),j=f.letters[v];!1===u(n,p)&&j instanceof Object&&n.push({value:h,index:p,type:j.type,bezier:f.letters[v].bezier,init:f.init})}}l(m(n))}),[s,l,u,m]);return r.a.createElement(G.Provider,{value:{generate:d}},t)},K=Object(a.createContext)({active:!0}),Q=function(e){var t=e.children;return r.a.createElement(N,null,r.a.createElement(T,null,r.a.createElement(j,null,r.a.createElement(L,null,r.a.createElement(J,null,r.a.createElement($,null,r.a.createElement(K.Provider,{value:{active:!0}},t)))))))},X=n(404),Y=n(411),Z=n(83),_=n(85),ee=n(400),te=n(405),ne=n(399),ae=(n(270),Object(a.memo)((function(){var e=Object(a.useContext)(p),t=e.current,n=e.setCurrent,c=e.onPlay,i=e.play;return r.a.createElement(te.a,{className:"animation-slider",xs:24},r.a.createElement("div",{className:"animation-slider--title"},r.a.createElement("p",null,"Time Controls")),r.a.createElement("div",{className:"animation-slider--controls"},r.a.createElement(Z.a,{className:!0===i?"btn-ui active min":"btn-ui min",onClick:function(){return c()}},r.a.createElement("span",{className:"text"},"Render"))),r.a.createElement("div",{className:"animation-slider--slider"},r.a.createElement(ne.a,{onChange:function(e){n(e)},min:0,max:100,value:parseInt(t.toString(),10),progress:!0,defaultValue:0})))}))),re=n(401),ce=n(406),ie=(n(373),Object(a.memo)((function(e){var t=e.onLoad,n=Object(a.useCallback)((function(e){if(e.length>0){var n=e[e.length-1];n instanceof Object&&t(n.blobFile)}}),[t]);return r.a.createElement(re.a,{autoUpload:!0,draggable:!0,accept:".ttf",fileListVisible:!1,onChange:n},r.a.createElement(ce.a,{icon:r.a.createElement(_.a,{icon:"upload"})}))}))),oe=n(408),le=n(398),se=n(409),ue=n(407),fe=(n(376),function(e){var t=e.icon,n=e.label,a=e.property,c=e.onChange,i=e.options,o=e.value;return r.a.createElement("div",{className:"text-property-slider"},r.a.createElement(ue.a,{className:"label-control"},r.a.createElement(_.a,{icon:t.toString()}),n),r.a.createElement(ne.a,Object.assign({},i,{tooltip:!0,progress:!0,onChange:function(e){return c(e,a)},value:o})))}),me=(n(377),function(e){var t=e.textProperties,n=e.setTextProperties,a=t.fontSize,c=t.lineHeight,i=t.letterSpacing,o=function(e,a){var r={};r[a]=Number(e);var c=Object(S.a)(Object(S.a)({},t),r);n(c)},l=function(e){var a=Object(S.a)(Object(S.a)({},t),{},{textAlign:e});n(a)};return r.a.createElement(oe.a,{className:"text-properties"},r.a.createElement(le.a,null,r.a.createElement(te.a,{xs:24,className:"text-properties--align"},r.a.createElement(se.a,null,r.a.createElement(ce.a,{icon:r.a.createElement(_.a,{icon:"align-left"}),onClick:function(){return l("left")}}),r.a.createElement(ce.a,{icon:r.a.createElement(_.a,{icon:"align-center"}),onClick:function(){return l("center")}}),r.a.createElement(ce.a,{icon:r.a.createElement(_.a,{icon:"align-right"}),onClick:function(){return l("right")}}))),r.a.createElement(te.a,{xs:24},r.a.createElement(te.a,{xs:24},r.a.createElement(fe,{icon:"font",label:"Font Size",property:"fontSize",onChange:o,options:{defaultValue:60,step:1,min:32,max:200},value:a})),r.a.createElement(te.a,{xs:24},r.a.createElement(fe,{icon:"text-height",label:"Line Height",property:"lineHeight",onChange:o,options:{defaultValue:.1,step:.1,min:.1,max:2},value:c})),r.a.createElement(te.a,{xs:24},r.a.createElement(fe,{icon:"text-width",label:"Letter Spacing",property:"letterSpacing",onChange:o,options:{defaultValue:0,step:1,min:-20,max:20},value:i})))))}),de=(n(384),function(e){e.font;var t=Object(a.useContext)(I),n=t.textProperties,c=t.setTextProperties;return r.a.createElement("div",{className:"edit-text"},r.a.createElement(me,{textProperties:n,setTextProperties:c}))}),be=n(402),ve=(n(385),function(e){var t=e.label,n=e.setText,a=e.text;return r.a.createElement(oe.a,{className:"input-text"},r.a.createElement(le.a,{className:"input-text--text"},r.a.createElement("label",{className:"label"},t),r.a.createElement(be.a,{placeholder:t,name:"text",componentClass:"textarea",value:a,onChange:function(e){return n(e.toString().toUpperCase())}})))}),he=n(66),pe=n(185),je=function(e){var t=e.className,n=e.current,c=e.children,i=e.width,o=e.onPrevNext,s=Object(a.useRef)(null),u=Object(he.b)((function(){return{x:0}})),f=Object(l.a)(u,2),m=f[0],d=f[1],b=Object(a.useState)({display:"none",width:0}),v=Object(l.a)(b,2),h=v[0],p=v[1],j=Object(a.useCallback)((function(){if(s instanceof Object===!1)return!1;var e=s.current;if(e instanceof Object){var t=e.getBoundingClientRect().width,n=e.querySelector(".content").getBoundingClientRect();return{diff:Math.floor(t-n.width),galleryWidth:n.width,containerWidth:t,widthElement:i}}return!1}),[i,s]),O=Object(a.useCallback)((function(){var e=j();if(e instanceof Object){var t=e.diff,n=e.galleryWidth;if(t)if(t<0)return"".concat(100*t/n*-1,"%")}return 0}),[j]),g=Object(a.useCallback)((function(e){var t=j();if(t instanceof Object){var n=t.containerWidth;return"".concat(100*e/n*-1,"%")}return 0}),[j]),E=Object(pe.a)((function(e){var t=e.down,n=(Object(l.a)(e.movement,1)[0],Object(l.a)(e.direction,1)[0]);e.distance>i/2&&(t||o((n>0?-1:1)>0?"next":"prev",j))})),x=Object(a.useCallback)((function(e,t,n){var a=O(),r=n.current.parentNode;if(0===a)return d({x:0}),r.setAttribute("data-controls","l"),t({display:"none",width:0});if(e>0){var c=j(),i=c.diff,o=c.widthElement,l=c.containerWidth,s=c.galleryWidth;if(i){var u=-1*(o*e);u>l-s?(r.setAttribute("data-controls",""),d({x:u})):(d({x:l-s}),r.setAttribute("data-controls","r"))}}else r.setAttribute("data-controls","l"),d({x:0});return t({display:"inline-block",width:a})}),[O,d,j]);return Object(a.useEffect)((function(){s.current instanceof Object&&x(n,p,s)}),[n,c,p,x]),r.a.createElement(a.Fragment,null,r.a.createElement(he.a.div,Object.assign({},E(),{className:"".concat(t,"--list"),ref:s}),r.a.createElement(he.a.div,{className:"content",style:{transform:m.x.interpolate((function(e){return"translate3d(".concat(e,"px,0,0)")})),width:c.length*i}},c&&c.map((function(e){return e})))),r.a.createElement("div",{className:"".concat(t,"--scroll"),style:{display:h.display}},r.a.createElement(he.a.div,{className:"bar",style:Object(S.a)({left:m.x.interpolate((function(e){return g(e)}))},h)})))},Oe=n(26);n(386);var ge=function(e){var t=function(t){Object(f.a)(a,t);var n=Object(m.a)(a);function a(e){var t;return Object(s.a)(this,a),(t=n.call(this,e)).state={direction:"none",current:0,last:void 0},t.onPrevNext=t.onPrevNext.bind(Object(Oe.a)(t)),t.setCurrent=t.setCurrent.bind(Object(Oe.a)(t)),t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.items;this.setState({items:e})}},{key:"setCurrent",value:function(e){if(!0===isNaN(e))return!1;var t=this.state.current;this.setState({last:t,direction:e>t?"prev":"next",current:e})}},{key:"onPrevNext",value:function(e){var t,n=this.state.current,a=this.props.items;t="prev"===e?n-1<0?a.length-1:n-1:n+1>=a.length?0:n+1,this.setState({last:n,current:t,direction:e})}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.state,this.props,{onPrevNext:this.onPrevNext,setCurrent:this.setCurrent}))}}]),a}(r.a.Component);return t.displayName="SliderBase(".concat(e.displayName||e.name,")"),t}((function(e){var t=e.current,n=e.items,c=e.onPrevNext,i=e.text,o=Object(a.useContext)(G),l=Object(a.useContext)(I),s=o.generate,u=l.setTextProperties,f=Object(a.useCallback)((function(e,t,n){u(n),s(e,t)}),[s,u]);return r.a.createElement("div",{className:"gallery-templates"},r.a.createElement(je,{className:"gallery-templates--item-slider",current:t,onPrevNext:c,width:160},n&&n.map((function(e,t){var n=e.image,a=e.template,c=e.textProperties;return r.a.createElement("div",{className:"gallery-templates--item-element",key:t,onClick:function(){return f(i,a,c)}},r.a.createElement("img",{src:n,alt:"template"}))}))))})),Ee=(n(387),function(e){var t=e.names,n=t.fontFamily,a=t.version;return r.a.createElement(te.a,{className:"font-load",xs:24},r.a.createElement(te.a,{className:"font-load--content",xs:24},r.a.createElement("p",{className:"label"},"Font Family"),r.a.createElement("p",{className:"name"},n.en),r.a.createElement("p",{className:"version"},a.en)))}),xe=(n(388),Object(a.memo)((function(e){var t=e.font;return r.a.createElement("div",{className:"load"},t&&r.a.createElement(Ee,{names:t.names}))}))),ye=(n(389),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=Object(a.useContext)(D),o=A(t).getFvarTable,l=i.textWordLetter,s=i.getAlign;return r.a.createElement("div",{className:"preview"},r.a.createElement(te.a,{className:"preview--content",style:Object(S.a)(Object(S.a)({},c),{},{justifyContent:s(c.textAlign)})},t&&l(t,n,o,(function(){}),3)),r.a.createElement("canvas",{id:"preview-canvas",width:"1920",height:"1080"}),r.a.createElement("video",null))}))),Ce=(n(390),Object(a.memo)((function(e){var t=e.font,n=e.text,c=Object(a.useContext)(D),i=c.letters,o=c.setLetters,l=c.textWordLetter,s=A(t).getFvarTable,u=Object(a.useRef)(null),f=Object(a.useCallback)((function(e){return o(e)}),[o]);return r.a.createElement("div",{className:"select-letters",ref:u},r.a.createElement(te.a,{xs:24,className:"select-letters--title"},r.a.createElement("p",null,"Click to select the letter you want to transform")),r.a.createElement(te.a,{xs:24,className:"select-letters--content"},t&&l(t,n,s,f,1)),r.a.createElement(te.a,{xs:24,className:"select-letters--count"},r.a.createElement("p",null,r.a.createElement("strong",null,i.length)," letters")))}))),ke=n(410),we=(n(391),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=Object(a.useContext)(D),o=A(t).getFvarTable,l=i.letters,s=i.textWordLetter;return r.a.createElement("div",{className:"select-final-state"},r.a.createElement(te.a,{className:"select-final-state--title",xs:24},r.a.createElement("p",null,"Select the final stage to letter"),!l.length&&r.a.createElement(ke.a,{type:"error",description:r.a.createElement("p",null,"Select at least one letter in the previous section.")})),r.a.createElement(te.a,{className:"select-final-state--content",style:Object(S.a)({},c)},t&&s(t,n,o,(function(e){return console.log(e)}),2)))}))),Ne=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],f=Object(a.useState)(!1),m=Object(l.a)(f,2),d=m[0],b=m[1],v=Object(a.useContext)(R),h=Object(a.useContext)(I),p=v.font,j=v.onLoad,O=h.text,x=h.setText,y=h.textProperties;return Object(a.useEffect)((function(){(function(){var e=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("/font-var-render","/template.json")).then((function(e){return e.json()})).then((function(e){return c(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(X.a,{justify:"center"},r.a.createElement(X.a.Item,{colspan:9},r.a.createElement(xe,{font:p})),r.a.createElement(X.a.Item,{colspan:9},r.a.createElement(Y.a,null,r.a.createElement(ie,{onLoad:j}),r.a.createElement(Z.a,{onClick:function(){return u(!0)}},r.a.createElement(_.a,{icon:"gear-circle"})),r.a.createElement(Z.a,{onClick:function(){return b(!0)}},r.a.createElement(_.a,{icon:"font"})))),r.a.createElement(X.a.Item,{colspan:9},r.a.createElement(ve,{label:"Type here to text",setText:x,text:O})),r.a.createElement(X.a.Item,{colspan:9},r.a.createElement("label",{className:"label"},"Gallery"),r.a.createElement(ge,{items:n,text:O})),r.a.createElement(X.a.Item,{colspan:18},r.a.createElement(ae,null),r.a.createElement(ye,{font:p,text:O,textProperties:y})),r.a.createElement(ee.a,{size:"xs",placement:"right",show:s,onHide:function(){return u(!1)}},r.a.createElement(ee.a.Header,null,r.a.createElement(ee.a.Title,null,"Advanced Properties")),r.a.createElement(ee.a.Body,null,r.a.createElement(Ce,{font:p,text:O}),r.a.createElement(we,{font:p,text:O,textProperties:y})),r.a.createElement(ee.a.Footer,null,r.a.createElement(Z.a,{onClick:function(){return u(!1)},appearance:"primary"},"Confirm"),r.a.createElement(Z.a,{onClick:function(){return u(!1)},appearance:"subtle"},"Cancel"))),r.a.createElement(ee.a,{size:"xs",placement:"right",show:d,onHide:function(){return b(!1)}},r.a.createElement(ee.a.Header,null,r.a.createElement(ee.a.Title,null,"Text properties")),r.a.createElement(ee.a.Body,null,r.a.createElement(de,{font:p})),r.a.createElement(ee.a.Footer,null,r.a.createElement(Z.a,{onClick:function(){return b(!1)},appearance:"primary"},"Confirm"),r.a.createElement(Z.a,{onClick:function(){return b(!1)},appearance:"subtle"},"Cancel"))))},Se=(n(392),function(){return r.a.createElement(Q,null,r.a.createElement(o.a,null,r.a.createElement(Ne,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(393);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t){}},[[186,1,2]]]);
//# sourceMappingURL=main.2b44871e.chunk.js.map