(this["webpackJsonpfont-var-render"]=this["webpackJsonpfont-var-render"]||[]).push([[0],{105:function(e,t){},188:function(e,t,n){e.exports=n(389)},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},350:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},363:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),o=n(8),l=n(391),s=function(e){var t=Object(a.useRef)(window.requestAnimationFrame),n=Object(a.useRef)(),r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],l=c[1],s=null,u=function a(r){var c=Date.now()-s;c<"3000"?(e(c),t.current=requestAnimationFrame(a)):f(),n.current=r},f=function(){cancelAnimationFrame(t.current),l(!1)};return Object(a.useEffect)((function(){return function(){return cancelAnimationFrame(t.current)}}),[]),{play:i,setPlay:l,onPlay:function(){s=Date.now(),t.current=requestAnimationFrame(u),l(!0)},onStop:f}},u=Object(a.createContext)({}),f=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)(0),c=Object(o.a)(n,2),i=c[0],f=c[1],m=Object(a.useState)(!1),b=Object(o.a)(m,2),d=b[0],v=b[1],p=s((function(e){var t=.001*e;if(!(t>=.11))return 0;f((function(){var t=(e-.11)/940*100;return t>100?100:parseFloat(t.toString()).toFixed(2)}))})),j=p.play,O=p.setPlay,h=p.onPlay,g=p.onStop,x=Object(a.useCallback)((function(){var e=!j;!0===e?(O(e),h()):g()}),[h,g,j,O]);return Object(a.useEffect)((function(){}),[d]),r.a.createElement(u.Provider,{value:{current:i,setCurrent:f,play:j,processing:d,setProcessing:v,onPlay:x}},t,r.a.createElement(l.a,{show:d},r.a.createElement(l.a.Header,null,r.a.createElement(l.a.Title,null,r.a.createElement("p",{className:"title"},"System Info"))),r.a.createElement(l.a.Body,null,r.a.createElement("p",{className:"text"},"Processing Frames"))))})),m=n(10),b=n(122),d=function(e){var t=Object(a.useCallback)((function(e){return e.names?e.names.fontFamily.en:"Canal Brasil VF"}),[]),n=Object(a.useCallback)((function(e){return!!e.tables&&e.tables.fvar}),[]),r=Object(a.useCallback)((function(t){var a=n(e);return a?a.instances[t]:null}),[e,n]),c=Object(a.useCallback)((function(t){var a=n(e);if(a){for(var r=[],c=a.instances[t].coordinates,i=0;i<a.axes.length;i++)r.push("'".concat(a.axes[i].tag,"' ").concat(c[a.axes[i].tag].toString()));return r.join()}return null}),[e,n]);return{getFvarTable:n,getNamedInstance:r,getNamedInstanceSetting:c,getName:t}},v=Object(a.createContext)({}),p=Object(a.memo)((function(e){var t=e.children,n=e.font,c=e.getFvarTable,i=Object(a.useState)(),l=Object(o.a)(i,2),s=l[0],u=l[1],f=Object(a.useState)({coordinates:{name:{en:"Neutra"},coordinates:{wdth:30,wght:0}}}),b=Object(o.a)(f,2),d=b[0],p=b[1],j=Object(a.useCallback)((function(e){u(Object(m.a)(Object(m.a)({},s),e))}),[u,s]),O=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var n=Object.keys(e).map((function(t){return"'".concat(t,"' ").concat(e[t])}));n&&t instanceof Object&&(t.style.fontVariationSettings=n.join());return!0}),[]),h=Object(a.useCallback)((function(e,t){if(c(n)){var a=Object(m.a)(Object(m.a)({},s),e);O(a,t)&&u(a)}}),[s,c,O,n]),g=Object(a.useCallback)((function(e){O(e,document.body),p(e)}),[O]);return Object(a.useEffect)((function(){!function(){var e=document.body;e instanceof Object&&(e.style.fontVariationSettings='"wdth" 30, "wght" 0')}()}),[n]),r.a.createElement(v.Provider,{value:{settings:s,setNamedInstance:j,setNamedInstanceValue:h,setInstanceValue:O,initialState:d,setInitialState:g}},t)})),j=Object(a.createContext)({}),O=function(e){var t=e.children,n=Object(a.useState)("TITULO"),c=Object(o.a)(n,2),i=c[0],l=c[1],s=Object(a.useState)({fontSize:65,lineHeight:1,letterSpacing:-10,textAlign:"left"}),u=Object(o.a)(s,2),f=u[0],m=u[1];return r.a.createElement(j.Provider,{value:{text:i,setText:l,textProperties:f,setTextProperties:m}},t)},h=(n(257),Object(a.memo)((function(e){var t=e.name,n=e.letter,c=e.onLetterFrames,i=e.text,l=e.setInstanceValue,s=e.textProperties,u=e.active,f=Object(a.useState)([]),b=Object(o.a)(f,2),d=b[0],v=b[1],p=Object(a.useRef)(null),j=Object(a.useCallback)((function(e,t,n,a){var r=t;t.filter((function(e,t){return t===n}))[0]instanceof Object?r[n]=Object(m.a)({src:e},a):r.push(Object(m.a)({src:e},a)),v(r),n>=99&&c(t)}),[c]),O=Object(a.useCallback)((function(e,t,n,a,r){if(a instanceof Object===!1)return!1;var c=new Image;c.onload=function(){var e=c.naturalWidth,i=c.naturalHeight,o={alt:"letter base",width:parseInt(e.toString(),10),height:parseInt(i.toString(),10),x:a.x,y:a.y,index:r};j(c,t,n,o)},c.src=e}),[j]),h=Object(a.useCallback)((function(e,n,a,r){var c=e.getBoundingClientRect(),i=c.width,o=c.height,l=e.parentNode.querySelector(".canvas");if(l){var u=l.getContext("2d");l.setAttribute("width",i+10),l.setAttribute("height",o+10),u&&(u.clearRect(0,0,i+10,o+10),u.beginPath(),u.font="".concat(s.fontSize,"px ").concat(t),u.fillStyle="white",u.textBaseline="middle",u.fillText(n,0,o/2),O(l.toDataURL("image/png",1),d,a,e.parentNode.getBoundingClientRect(),r))}}),[s,d,t,O]),g=Object(a.useCallback)((function(e,t,n){if(e instanceof Object===!1||t instanceof Object===!1)return!1;var a={},r=e.settings,c=e.instance;if(!0===u)if(r!==c){var s=n;Object.entries(c.coordinates).forEach((function(e){var t=Object(o.a)(e,2),c=t[0],i=t[1],l=r.coordinates[c];if(!0===i<l){var u=Math.abs(i-l);if(u>0)if(0===i){var f=parseInt((u-n).toString(),10);a[c]=f>i?f:i}else{var m=parseInt((l-s).toString());a[c]=m>i?m:i}else a[c]=i}else if(l===i)a[c]=i;else{var b=parseInt((i*n/100).toString(),10);a[c]=b>i?i:b}}))}else a=r.coordinates;else a=c.coordinates;h(t,i,n,e.index),l(a,t)}),[u,h,l,i]),x=Object(a.useCallback)((function(e){for(var t=function(t){setTimeout((function(){return g(e,p.current,t)}),500)},n=0;n<100;n++)t(n)}),[g]),E=Object(a.useCallback)((function(){x(n)}),[x,n]);return r.a.createElement("div",{className:"letter-item-animation",ref:p,onClick:function(){return E()}},r.a.createElement("p",{className:"letter--text end"},i),r.a.createElement("canvas",{className:"canvas"}))}))),g=(n(258),Object(a.memo)((function(e){var t=e.instanceFont,n=e.setInstanceValue,c=e.text,i=e.onSelect,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){o.current&&n(t.coordinates,o.current)}),[c,t,n,o]),r.a.createElement("div",{className:"letter-item",ref:o,onClick:function(){return i(t.coordinates)}},r.a.createElement("p",{className:"letter--text"},c))}))),x=(n(259),Object(a.memo)((function(e){var t=e.current,n=e.setInstanceValue,c=e.instances,i=e.text,o=e.onSelect,l=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=c.filter((function(t){return t.coordinates===e}));t.length>0&&o(t[0])}),[o,c]);return r.a.createElement("ul",{className:"letter-type"},c&&c.map((function(e,a){return r.a.createElement("li",{className:"letter-type--item","data-active":t.coordinates===e.coordinates,key:a},r.a.createElement(g,{instanceFont:e,setInstanceValue:n,text:i,onSelect:l}))})))}))),E=(n(260),Object(a.memo)((function(e){var t=e.active,n=e.items,c=e.fvar,i=e.index,l=e.name,s=e.text,u=e.type,f=e.onChange,b=e.setInstanceValue,d=e.initialState,v=e.updateLetterItem,p=e.textProperties,j=e.setLetters,O=Object(a.useRef)(),g=Object(a.useState)({index:i,instance:d.coordinates,easing:[.83,.01,.47,.59],settings:d.coordinates,frames:[]}),E=Object(o.a)(g,2),C=E[0],y=E[1],k=Object(a.useCallback)((function(e){!1===e&&j(C)}),[C,j]),N=Object(a.useCallback)((function(e){v(i,{instance:Object(m.a)({},e)}),b(e,O.current)}),[i,v,b]),S=Object(a.useCallback)((function(e){v(i,{settings:Object(m.a)({},e)})}),[i,v]),w=Object(a.useCallback)((function(e){v(i,{frames:Object(m.a)({},e)})}),[i,v]);return Object(a.useEffect)((function(){var e=n.filter((function(e){return e.index===i}));!0===t&&e.length>0&&y(e[0]),k(e.length>0)}),[n,t,i,y,k]),r.a.createElement("div",{className:"letter",ref:O,"data-active":t,"data-type":u},r.a.createElement("p",{className:"letter--text",onClick:function(){return f(C)}},s),2===u&&r.a.createElement(x,{instances:c instanceof Object?c.instances:[],current:C.settings,onSelect:S,setInstanceValue:b,text:s,key:1}),2===u&&r.a.createElement(x,{instances:c instanceof Object?c.instances:[],current:C.instance,onSelect:N,setInstanceValue:b,text:s,key:2}),3===u&&r.a.createElement(h,{initialState:d,name:l,letter:C,active:t,text:s,onLetterFrames:w,textProperties:p,setInstanceValue:b}))}))),C=(n(261),Object(a.memo)((function(e){var t=e.font,n=e.word,c=e.letters,i=e.getFvarTable,o=e.index,l=e.type,s=e.onChange,u=d(t).getName,f=Object(a.useContext)(v),m=Object(a.useContext)(y),b=Object(a.useContext)(j),p=f.setInstanceValue,O=f.initialState,h=m.updateLetterItem,g=m.setLetters,x=b.textProperties,C=Object(a.useCallback)((function(e,t){return Array.isArray(e)&&e&&e.filter((function(e){return e.index===t})).length>0}),[]),k=Object(a.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a=0;a<t.length;a++){var f=t[a],m="".concat(f,"-").concat(o+1,"-").concat(a+1),b=C(c,m);n.push(r.a.createElement(E,{active:b,items:c,name:u(e),fvar:i(e),text:f,index:m,key:m,type:l,setInstanceValue:p,initialState:O,updateLetterItem:h,textProperties:x,setLetters:g,onChange:s}))}return n}),[C,u,o,c,i,s,l,p,O,h,x,g]);return r.a.createElement("div",{className:"word"},k(t,n))}))),y=Object(a.createContext)({}),k=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],l=c[1],s=Object(a.useCallback)((function(e){switch(e){case"right":return"flex-end";case"center":return"center";default:return"flex-start"}}),[]),u=Object(a.useCallback)((function(e){return i.length>0&&i.filter((function(t){return t.index===e}))[0]}),[i]),f=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=u(e.index);l(t instanceof Object?i.filter((function(e){return e!==t})):[].concat(Object(b.a)(i),[e]))}),[i,l,u]),d=Object(a.useCallback)((function(e,t){var n=u(e);if(n instanceof Object){var a=i;a[a.indexOf(n)]=Object(m.a)(Object(m.a)({},n),t),l(Object(b.a)(a))}}),[i,l,u]),v=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.trim().split(" ")}),[]),p=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.split(/\r?\n/)}),[]),j=Object(a.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=p(e),a=0;a<n.length;a++)for(var r=n[a],c=v(r),i=0;i<c.length;i++)t.push({character:1,item:c[i],index:a+1});return t}),[v,p]),O=Object(a.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,o=[],l=j(t),s=0;s<l.length;s++){var u=l[s],f=u.item,m=u.index;o.push(r.a.createElement(C,{index:s,key:m,font:e,word:f,letters:i,getFvarTable:n,type:c,onChange:a}))}return o}),[i,j]);return r.a.createElement(y.Provider,{value:{letters:i,setAll:l,setLetters:f,getLetter:u,updateLetterItem:d,getCountWords:v,getLineBreak:p,getAlign:s,textWordLetter:O,textWordLetterArray:j}},t)})),N=n(50),S=n.n(N),w=n(79),P=n(117),F=n(177),I=n.n(F),A=Object(a.createContext)({}),L=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)(),c=Object(o.a)(n,2),i=c[0],l=c[1],s=d(i).getFvarTable,u=function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},f=Object(a.useCallback)(function(){var e=Object(w.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document instanceof Object&&(a=I.a.encode(u(new Uint8Array(n))),r="@font-face {\n        font-family: '".concat(t.names.fontFamily.en,"';\n        src: url('data:;base64,").concat(a,"') format('truetype');\n      }"),document.getElementById("font-load").textContent=r);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),m=Object(a.useCallback)((function(e){var t=new FileReader;t.onload=function(e){try{var t=e.target.result,n=P.a.parse(t);l(n),f(n,t)}catch(a){console.error(a.toString())}},t.onerror=function(e){return console.error(e.toString())},t.readAsArrayBuffer(e)}),[f]);return Object(a.useEffect)((function(){!function(){var e="".concat("/font-var-render").concat("/fonts/canal-brasil.ttf");fetch(e).then((function(e){return e.blob()})).then((function(t){var n=new File([t],"font",{type:t.type});P.a.load(e,(function(e,t){e?console.log(e):(document.body.style.fontFamily=t.names.fontFamily.en,l(t))})),m(n)}))}()}),[m]),r.a.createElement(A.Provider,{value:{font:i,onLoad:m}},r.a.createElement(p,{font:i,getFvarTable:s},t))})),T=n(397),V=Object(a.createContext)({}),R=function(e){var t=e.children,n=Object(a.useCallback)((function(e,t){T.a.open({title:e,duration:4e3,description:t})}),[4e3]),c=Object(a.useCallback)((function(e,t){T.a.info({title:e,duration:4e3,description:t})}),[4e3]),i=Object(a.useCallback)((function(e,t){T.a.error({title:e,duration:4e3,description:t})}),[4e3]);return r.a.createElement(V.Provider,{value:{notificationBasic:n,notificationSuccess:c,notificationError:i}},t)},B=Object(a.createContext)({}),M=function(e){var t=e.children,n=Object(a.useContext)(A),c=Object(a.useContext)(y),i=n.font,o=d(i).getFvarTable,l=c.setAll,s=c.textWordLetterArray,u=Object(a.useCallback)((function(e,t){return e.filter((function(e){return e.index===t})).length>0}),[]),f=Object(a.useCallback)((function(e){var t=o(i).instances;if(t instanceof Object)for(var n in t){var a=t[n];if(a instanceof Object&&e===a.name.en)return a}return{}}),[o,i]),m=Object(a.useCallback)((function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=a.init,c=a.index,i=a.type,o=a.bezier;t.push({index:c,easing:o,instance:f(i),settings:f(r)})}return t}),[f]),b=Object(a.useCallback)((function(e,t){if(t instanceof Object===!1||0===t.length)return!1;for(var n=[],a=s(e).filter((function(e){return 1===e.character})),r=0;r<a.length;r++){var c=a[r],i=c.item,o=c.index,f=t[r];if(f)for(var b=0;b<f.limit;b++){var d=Math.floor(Math.random()*c.item.length+1),v=Math.floor(Math.random()*f.limit+1),p=i[d-1],j="".concat(p,"-").concat(d-1,"-").concat(o.toString()[o.length-1]),O=f.letters[v];!1===u(n,j)&&O instanceof Object&&n.push({value:p,index:j,type:O.type,bezier:f.letters[v].bezier,init:f.init})}}l(m(n))}),[s,l,u,m]);return r.a.createElement(B.Provider,{value:{generate:b}},t)},W=function(e){var t=e.children;return r.a.createElement(R,null,r.a.createElement(L,null,r.a.createElement(f,null,r.a.createElement(k,null,r.a.createElement(O,null,r.a.createElement(M,null,t))))))},D=n(398),U=n(83),q=(n(276),function(e){var t=e.children;return r.a.createElement("div",{className:"header"},t)}),z=n(85),H=n(394),J=(n(277),Object(a.memo)((function(e){var t=e.setPro,n=Object(a.useContext)(u),c=n.current,i=n.setCurrent,o=Object(a.useCallback)((function(e){i(e)}),[i]);return r.a.createElement("div",{className:"animation-slider"},r.a.createElement("div",{className:"animation-slider--controls"},r.a.createElement("button",{className:"btn btn-reset",onClick:function(){return i(0)}},"refresh"),r.a.createElement("button",{className:"btn-default",onClick:function(){return t(!0)}},r.a.createElement(z.a,{icon:"gear-circle"}),r.a.createElement("span",{className:"text"},"Select letter to animation"))),r.a.createElement("div",{className:"animation-slider--slider"},r.a.createElement(H.a,{onChange:o,min:0,max:99,value:parseInt(c.toString(),10),progress:!0,defaultValue:0})))}))),Y=n(399),$=n(393),G=n(395),K=(n(350),Object(a.memo)((function(e){var t=e.label,n=e.setText,a=e.text;return r.a.createElement(Y.a,{className:"input-text"},r.a.createElement($.a,{className:"input-text--text"},r.a.createElement("p",{className:"title"},t),r.a.createElement(G.a,{placeholder:t,name:"text",componentClass:"textarea",value:a,onChange:function(e){return n(e.toString().toUpperCase())}})))}))),Q=n(183),X=n(184),Z=n(58),_=n(187),ee=n(186);function te(e){var t=function(t){Object(_.a)(a,t);var n=Object(ee.a)(a);function a(e){var t;return Object(Q.a)(this,a),(t=n.call(this,e)).state={direction:"none",current:0,last:void 0},t.onPrevNext=t.onPrevNext.bind(Object(Z.a)(t)),t.setCurrent=t.setCurrent.bind(Object(Z.a)(t)),t}return Object(X.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.items;this.setState({items:e})}},{key:"setCurrent",value:function(e){if(!0===isNaN(e))return!1;var t=this.state.current;this.setState({last:t,direction:e>t?"prev":"next",current:e})}},{key:"onPrevNext",value:function(e){var t,n=this.state.current,a=this.props.items;t="prev"===e?n-1<0?a.length-1:n-1:n+1>=a.length?0:n+1,this.setState({last:n,current:t,direction:e})}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.state,this.props,{onPrevNext:this.onPrevNext,setCurrent:this.setCurrent}))}}]),a}(r.a.Component);return t.displayName="SliderBase(".concat(e.displayName||e.name,")"),t}var ne=n(81),ae=(n(357),function(e){var t=e.children,n=e.current,c=e.direction,i=e.last,o=e.onPrevNext,l=e.type,s=Object(ne.a)({onSwipedLeft:function(){return o("next")},onSwipedRight:function(){return o("prev")},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return r.a.createElement("div",Object.assign({className:"slider","data-direction":c,"data-type":l},s),r.a.createElement("ul",{className:"slider--list"},t&&a.Children.map(t,(function(e,t){return r.a.createElement("li",{className:"slider--item","data-current":n===t,"data-last":i===t},e)}))))}),re=(n(358),te((function(e){var t=e.current,n=e.last,c=e.items,i=e.onPrevNext,o=e.text,l=e.setText,s=e.setTextProperties,u=e.textPropertiesMain,f=Object(a.useContext)(B).generate,m=Object(a.useCallback)((function(e,t,n,a){s(n),l(a.toUpperCase()),f(e,t)}),[f,s,l]);return Object(a.useEffect)((function(){if(c.length>0){var e=c[0],t=e.text,n=e.template,a=e.textProperties,r=e.words;m(t,n,a,r)}}),[c,m]),r.a.createElement("div",{className:"gallery-templates"},r.a.createElement("p",{className:"title"},"Templates"),r.a.createElement(ae,{current:t,direction:"",last:n,onPrevNext:i,type:"1"},c&&c.map((function(e,t){var n=e.image,a=e.template,c=e.textProperties,i=e.words;return r.a.createElement("button",{"data-active":u===c,className:"gallery-templates--item",key:t,onClick:function(){return m(o,a,c,i)}},r.a.createElement("img",{src:"/font-var-render"+n,alt:"template"}))}))))}))),ce=(n(359),Object(a.memo)((function(e){var t=e.names,n=t.fontFamily,a=t.version;return r.a.createElement("div",{className:"font-load"},r.a.createElement("div",{className:"font-load--content"},r.a.createElement("p",{className:"label"},"Font Family"),r.a.createElement("p",{className:"name"},n.en),r.a.createElement("p",{className:"version"},a.en)))}))),ie=n(396),oe=n(400),le=(n(360),Object(a.memo)((function(e){var t=e.onLoad,n=Object(a.useCallback)((function(e){if(e.length>0){var n=e[e.length-1];n instanceof Object&&t(n.blobFile)}}),[t]);return r.a.createElement(ie.a,{autoUpload:!0,draggable:!0,accept:".ttf",fileListVisible:!1,onChange:n},r.a.createElement(oe.a,{icon:r.a.createElement(z.a,{icon:"upload"})}))}))),se=(n(363),Object(a.memo)((function(e){var t=e.font,n=e.onLoad;return r.a.createElement("div",{className:"load"},t&&r.a.createElement(ce,{names:t.names}),r.a.createElement(le,{onLoad:n}))}))),ue=n(401),fe=n(121),me=n.n(fe),be=Object(a.memo)((function(e){var t=e.id,n=e.width,c=e.height,i=e.text,s=Object(a.useContext)(u),f=Object(a.useContext)(y),m=s.current,b=s.setCurrent,d=s.processing,v=s.setProcessing,p=f.letters,j=f.getLineBreak,O=Object(a.useState)([]),h=Object(o.a)(O,2),g=h[0],x=h[1],E=Object(a.useState)(!1),C=Object(o.a)(E,2),k=C[0],N=C[1],S=Object(a.useRef)(null),w=Object(a.useCallback)((function(e){for(var t=atob(e.split(",")[1]),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));return n}),[]),P=Object(a.useCallback)((function(e,t){if(!e)return!1;var n=t<10?"0".concat(t):t,a=new File([new Uint8Array(w(e))],"frame-".concat(n,".png"),{type:"image/png"}),r="https://font-var-render-server.herokuapp.com/",c=new FormData;c.append("file",a),me.a.post("".concat(r,"/images"),c,{headers:{enctype:"multipart/form-data"}}).then((function(e){e.data&&t<100&&!0===d?b(t+1):!0===d&&(v(!1),N(!0),b(1),me.a.get("".concat(r,"/frames")).then((function(){return N(!0)})))})).catch((function(e){return console.log(e)}))}),[w,b,d,v]),F=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var n=new Image,a=e.toDataURL("image/png",1);n.onload=function(){var e=g;e[t]=a,P(a,t),x(e)},n.src=a}),[g,P]),I=Object(a.useCallback)((function(e){return!!Array.isArray(e)&&e.sort((function(e,t){var n=e.index.split("-"),a=parseInt("".concat(n[1]).concat(n[2]),10),r=t.index.split("-"),c=parseInt("".concat(r[1]).concat(r[2]),10);return a<c?-1:c>a?1:0}))}),[]),A=Object(a.useCallback)((function(e){var t=S.current;if(t instanceof Object){t.setAttribute("width",n),t.setAttribute("height",c);var a=t.getContext("2d");a.clearRect(0,0,n,c),a.beginPath(),a.fillStyle="black",a.fillRect(0,0,n,c);var r=0;if(a){for(var o=0,l=190,s=I(p),u=j(i).length,f=0;f<s.length;f++){var m=s[f];if(m instanceof Object){var b=m.frames[e];if(b instanceof Object){var d=b.src,v=b.index,O=b.width,h=b.height,g=v.split("-"),x=parseInt(g[1]),E=(o=x!==o?x:o)*h-(h/2*(u-1)-h/2);x!==r&&(l=190,r=x),a.drawImage(d,l,E),l+=parseInt(O.toString(),10)}}}F(t,e)}}}),[p,S,F,c,n,I,j,i]);return Object(a.useEffect)((function(){A(parseInt(Math.floor(m).toString(),10))}),[m,A]),r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{id:t,height:c,width:n,ref:S}),r.a.createElement(l.a,{backdrop:k,show:k},r.a.createElement(l.a.Body,null,r.a.createElement("p",{className:"text"},"Your video was successfully send, it cant take a few minutes.",r.a.createElement("a",{href:"https://font-var-render-server.herokuapp.com/output"},"visit")))))})),de=(n(381),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=d(t).getFvarTable,o=Object(a.useContext)(y),l=o.textWordLetter,s=o.getAlign;return r.a.createElement("div",{className:"preview"},r.a.createElement(ue.a,{className:"preview--content",style:Object(m.a)(Object(m.a)({},c),{},{justifyContent:s(c.textAlign)})},t&&l(t,n,i,(function(){}),3)),r.a.createElement(be,{id:"preview-canvas",width:1920,height:1080,text:n}))}))),ve=n(402),pe=(n(382),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=Object(a.useContext)(y),o=d(t).getFvarTable,l=i.letters,s=i.textWordLetter;return r.a.createElement("div",{className:"select-final-state"},r.a.createElement(ue.a,{className:"select-final-state--title",xs:24},r.a.createElement("p",{className:"text"},"Select the initial and final stage of each letter"),!l.length&&r.a.createElement(ve.a,{type:"error",description:r.a.createElement("p",null,"Select at least one letter in the previous section.")})),r.a.createElement(ue.a,{className:"select-final-state--content",style:Object(m.a)({},c)},t&&s(t,n,o,(function(e){return console.log(e)}),2)))}))),je=(n(383),function(e){var t=e.current,n=e.last,a=e.onPrevNext;return r.a.createElement("div",{className:"steps-header"},r.a.createElement(U.a,{className:"btn-default clear","data-active":t>0&&t!==n,onClick:function(){return a("prev")}},r.a.createElement(z.a,{icon:"back-arrow"}),r.a.createElement("span",{className:"text"},"back")))}),Oe=(n(384),te((function(e){var t=e.children,n=e.current,c=e.direction,i=e.last,o=e.onPrevNext,l=Object(ne.a)({onSwipedLeft:function(){return o("next")},onSwipedRight:function(){return o("prev")},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return r.a.createElement("div",Object.assign({className:"steps-slider","data-direction":c},l),r.a.createElement("ul",{className:"steps-slider--list"},t&&a.Children.map(t,(function(e,t){return r.a.createElement("li",{className:"steps-slider--item","data-active":n===t,"data-last":i===t},e)}))))}))),he=(n(385),Object(a.memo)((function(e){var t=e.current,n=e.last,c=e.count,i=e.onPrevNext,o=Object(a.useContext)(u),l=o.processing,s=o.setCurrent,f=o.setProcessing,m=Object(a.useCallback)((function(){if(f(!l),!0===l)return s(1)}),[l,s,f]),b=Object(a.useCallback)((function(e){var t=document.body.querySelectorAll(".letter-item-animation");if(t)for(var a=0;a<t.length;a++){var r=t[a];r instanceof Object&&r.click()}n===c-1&&"prev"!==e?m():i(e)}),[c,n,m,i]);return r.a.createElement("div",{className:"steps-footer"},r.a.createElement("button",{className:"btn-default prev",onClick:function(){return b("prev")},disabled:0===t},"back"),r.a.createElement("button",{className:"btn-default next",onClick:function(){return b("next")}},t===c?"render":"next"))}))),ge=(n(386),te((function(e){var t=e.children,n=e.current,a=e.direction,c=e.last,i=e.onPrevNext;return r.a.createElement("div",{className:"steps"},r.a.createElement(je,{current:n,last:c,onPrevNext:i}),r.a.createElement(Oe,{current:n,direction:a,items:Array.from(Array(t).keys()),last:c,onPrevNext:i},t),r.a.createElement(he,{current:n,count:Array.from(Array(t).keys()).length,last:c,onPrevNext:i}))}))),xe=(n(387),Object(a.memo)((function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),s=l[0],u=l[1],f=Object(a.useContext)(A),m=Object(a.useContext)(j),b=f.font,d=f.onLoad,v=m.text,p=m.setText,O=m.textProperties,h=m.setTextProperties,g=Object(a.useCallback)((function(){var e=document.body.querySelectorAll(".letter-item-animation");if(e)for(var t=0;t<e.length;t++){var n=e[t];n instanceof Object&&n.click()}u(!1)}),[u]);return Object(a.useEffect)((function(){(function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("/font-var-render","/template.json")).then((function(e){return e.json()})).then((function(e){return c(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"content--wrapper"},r.a.createElement(q,null,r.a.createElement(se,{font:b,onLoad:d})),r.a.createElement(ge,{items:[0,1]},r.a.createElement(a.Fragment,null,r.a.createElement(re,{items:n,text:v,setText:p,textPropertiesMain:O,setTextProperties:h}),r.a.createElement(K,{label:"Type here to text",setText:p,text:v})),r.a.createElement(a.Fragment,null,r.a.createElement(J,{setPro:u}),r.a.createElement(de,{font:b,text:v,textProperties:O})))),r.a.createElement(D.a,{size:"xs",placement:"right",show:s,onHide:function(){return u(!1)}},r.a.createElement(D.a.Header,null,r.a.createElement(D.a.Title,null,r.a.createElement("p",{className:"title"},"Advanced Properties"))),r.a.createElement(D.a.Body,null,r.a.createElement(pe,{font:b,text:v,textProperties:O})),r.a.createElement(D.a.Footer,null,r.a.createElement(U.a,{className:"btn-default",onClick:function(){return g()}},"Confirm"),r.a.createElement(U.a,{className:"btn-default clear",onClick:function(){return u(!1)}},"Cancel"))))}))),Ee=function(){return r.a.createElement(W,null,r.a.createElement(xe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(388);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[188,1,2]]]);
//# sourceMappingURL=main.3850ae09.chunk.js.map