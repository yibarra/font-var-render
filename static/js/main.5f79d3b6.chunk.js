(this["webpackJsonpfont-var-render"]=this["webpackJsonpfont-var-render"]||[]).push([[0],{187:function(e,t,n){e.exports=n(393)},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),i=n.n(c),l=n(411),o=n(8),s=n(12),u=n(16),m=n(20),f=n(19),d=n(174),b=n.n(d),v=new(function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).load(),e}return Object(u.a)(n,[{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.renderView(e,t)}}]),n}(function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).chunks=void 0,e.mediaRecorder=void 0,e.videoStream=void 0,e.chunks=[],e}return Object(u.a)(n,[{key:"capture",value:function(e){var t=this;if(e instanceof Object===!1)return!1;this.videoStream=this.canvas.captureStream(30),this.mediaRecorder=new MediaRecorder(this.videoStream);var n=document.querySelector("video");this.mediaRecorder.ondataavailable=function(e){var n=e.data;return n.size>0?t.chunks.push(n):null},this.mediaRecorder.onstop=function(){var e=new Blob(t.chunks,{type:'video/mp4; codecs="avc1.4d002a"'});t.chunks=[];var a=URL.createObjectURL(e);n.src=a,n.onloadeddata=function(){return t.download(a)}}}},{key:"canvasDrawing",value:function(){var e,t=window.devicePixelRatio,n=null===(e=this.canvas)||void 0===e?void 0:e.getContext("2d");if(n.scale(t,t),n instanceof Object){var a=document.body.querySelectorAll(".letter-item-animation canvas"),r=document.body.querySelector(".preview--content");if(n.clearRect(0,0,1920,1080),n.beginPath(),a instanceof Object){var c=null===r||void 0===r?void 0:r.getBoundingClientRect(),i=c.x,l=c.y;a.forEach((function(e){if(e instanceof Object){var t=e.getBoundingClientRect();t.width&&t.height&&n.drawImage(e,t.x-i,t.y-l,t.width,t.height)}}))}}}},{key:"renderView",value:function(e,t){this.canvas||(this.canvas=document.body.querySelector("#preview-canvas"),this.capture(this.canvas)),!0===t?this.mediaRecorder instanceof Object&&"recording"!==this.mediaRecorder.state&&(console.log("play"),this.mediaRecorder.start()):"inactive"!==this.mediaRecorder.state&&(console.log("stop"),this.mediaRecorder.stop(),this.capture(this.canvas)),this.canvasDrawing()}}]),n}(function(){function e(){Object(s.a)(this,e),this.canvas=void 0,this.recorder=void 0,this.aab=void 0,this.canvas=document.body.querySelector("#preview-canvas"),this.aab=[]}return Object(u.a)(e,[{key:"load",value:function(){this.canvas=document.body.querySelector("#preview-canvas")}},{key:"postBlob",value:function(e){var t=this,n=new FormData;n.append("file",e),b()({method:"POST",url:"https://font-var-render-server.herokuapp.com/upload-video",headers:{"Content-Type":"multipart/form-data"},data:n}).then((function(n){return t.download(window.URL.createObjectURL(e))})).catch((function(e){return console.log(e)}))}},{key:"download",value:function(e){var t=document.createElement("a");t.style.display="none",t.href=e,t.download="video",document.body.appendChild(t),t.click()}},{key:"generateVideo",value:function(e){this.postBlob(e)}}]),e}()))),p=function(e){var t=Object(a.useRef)(window.requestAnimationFrame),n=Object(a.useRef)(),r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],l=c[1],s=null,u=function a(r){var c=Date.now()-s;c<"5000"?(e(c),v.render(c,!0),t.current=requestAnimationFrame(a)):m(),n.current=r},m=function(){cancelAnimationFrame(t.current),v.render(0),l(!1)};return Object(a.useEffect)((function(){return function(){return cancelAnimationFrame(t.current)}}),[]),{play:i,setPlay:l,onPlay:function(){s=Date.now(),t.current=requestAnimationFrame(u),v.render(0,!0),l(!0)},onStop:m}},h=Object(a.createContext)({}),g=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)(0),c=Object(o.a)(n,2),i=c[0],l=c[1],s=p((function(e){l((function(){return parseFloat((100*e/"5000").toString()).toFixed(2)}))})),u=s.play,m=s.setPlay,f=s.onPlay,d=s.onStop,b=Object(a.useCallback)((function(){var e=!u;!0===e?(m(e),f()):d()}),[f,d,u,m]);return r.a.createElement(h.Provider,{value:{current:i,setCurrent:l,play:u,onPlay:b}},t)})),x=n(115),j=n.n(x),O=n(175),E=n(116),y=n(176),C=n.n(y),k=n(402),w=Object(a.createContext)({}),N=function(e){var t=e.children,n=Object(a.useCallback)((function(e,t){k.a.open({title:e,duration:5e3,description:t})}),[5e3]),c=Object(a.useCallback)((function(e,t){k.a.info({title:e,duration:5e3,description:t})}),[5e3]),i=Object(a.useCallback)((function(e,t){k.a.error({title:e,duration:5e3,description:t})}),[5e3]);return r.a.createElement(w.Provider,{value:{notificationBasic:n,notificationSuccess:c,notificationError:i}},t)},S=n(9),P=Object(a.createContext)({}),z=Object(a.memo)((function(e){var t=e.children,n=e.font,c=e.getFvarTable,i=Object(a.useState)(),l=Object(o.a)(i,2),s=l[0],u=l[1],m=Object(a.useState)({coordinates:{name:{en:"Neutra"},coordinates:{wdth:30,wght:0}}}),f=Object(o.a)(m,2),d=f[0],b=f[1],v=Object(a.useCallback)((function(e){u(Object(S.a)(Object(S.a)({},s),e))}),[u,s]),p=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var n=Object.keys(e).map((function(t){return"'".concat(t,"' ").concat(e[t])}));n&&t instanceof Object&&(t.style.fontVariationSettings=n.join());return!0}),[]),h=Object(a.useCallback)((function(e,t){if(c(n)){var a=Object(S.a)(Object(S.a)({},s),e);p(a,t)&&u(a)}}),[s,c,p,n]),g=Object(a.useCallback)((function(e){p(e,document.body),b(e)}),[p]);return Object(a.useEffect)((function(){!function(){var e=document.body;e instanceof Object&&(e.style.fontVariationSettings='"wdth" 30, "wght" 0')}()}),[n]),r.a.createElement(P.Provider,{value:{settings:s,setNamedInstance:v,setNamedInstanceValue:h,setInstanceValue:p,initialState:d,setInitialState:g}},t)})),A=function(e){var t=Object(a.useCallback)((function(e){return!!e.tables&&e.tables.fvar}),[]),n=Object(a.useCallback)((function(n){var a=t(e);return a?a.instances[n]:null}),[e,t]),r=Object(a.useCallback)((function(n){var a=t(e);if(a){for(var r=[],c=a.instances[n].coordinates,i=0;i<a.axes.length;i++)r.push("'".concat(a.axes[i].tag,"' ").concat(c[a.axes[i].tag].toString()));return r.join()}return null}),[e,t]);return{getFvarTable:t,getNamedInstance:n,getNamedInstanceSetting:r}},F=Object(a.createContext)({}),L=Object(a.memo)((function(e){var t=e.children,n=Object(a.useContext)(w),c=n.notificationSuccess,i=n.notificationError,l=Object(a.useState)(),s=Object(o.a)(l,2),u=s[0],m=s[1],f=A(u).getFvarTable,d=function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},b=Object(a.useCallback)(function(){var e=Object(O.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document instanceof Object&&(a=C.a.encode(d(new Uint8Array(n))),r="@font-face {\n        font-family: '".concat(t.names.fontFamily.en,"';\n        src: url('data:;base64,").concat(a,"') format('truetype');\n      }"),document.getElementById("font-load").textContent=r,c("Upload","The type font was successfully loaded!"));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c]),v=Object(a.useCallback)((function(e){var t=new FileReader;t.onload=function(e){try{var t=e.target.result,n=E.a.parse(t);m(n),b(n,t)}catch(a){i("Erro loading","Verify the font file and try again!"),console.error(a.toString())}},t.onerror=function(e){i("Erro loading","Verify the font file and try again!"),console.error(e.toString())},t.readAsArrayBuffer(e)}),[b,i]);return Object(a.useEffect)((function(){!function(){var e="".concat("/font-var-render").concat("/fonts/canal-brasil.ttf");fetch(e).then((function(e){return e.blob()})).then((function(t){var n=new File([t],"untitled",{type:t.type});E.a.load(e,(function(e,t){e?console.log(e):(document.body.style.fontFamily=t.names.fontFamily.en,m(t))})),v(n)}))}()}),[v]),r.a.createElement(F.Provider,{value:{font:u,onLoad:v}},r.a.createElement(z,{font:u,getFvarTable:f},t))})),R=Object(a.createContext)({}),T=function(e){var t=e.children,n=Object(a.useState)("CANAL BRASIL"),c=Object(o.a)(n,2),i=c[0],l=c[1],s=Object(a.useState)({fontSize:35,lineHeight:1,letterSpacing:0,textAlign:"left"}),u=Object(o.a)(s,2),m=u[0],f=u[1];return r.a.createElement(R.Provider,{value:{text:i,setText:l,textProperties:m,setTextProperties:f}},t)},I=n(38),V=n(53),B=n.n(V),W=n(178),H=n.n(W),q=(n(265),Object(a.memo)((function(e){var t=e.letter,n=e.text,c=e.setInstanceValue,i=(e.initialState,e.textProperties),l=Object(a.useContext)(h).current,s=Object(a.useRef)(null),u=Object(a.useCallback)((function(e,t){var n=e.getBoundingClientRect(),a=n.width,r=n.height,c=e.parentNode.querySelector(".canvas");if(c){var l=c.getContext("2d");c.setAttribute("width",a),c.setAttribute("height",r),l&&(l.clearRect(0,0,a,r),l.beginPath(),l.font="".concat(i.fontSize,"px Canal Brasil VF"),l.fillStyle="white",l.textBaseline="middle",l.fillText(t,0,r/2))}}),[i]),m=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;console.log(e);var a={},r=100*e.easing(l/100),i=e.settings,s=e.instance,m=function(e){var t=s.coordinates[e];Object.entries(i.coordinates).forEach((function(n){var c=Object(o.a)(n,2),i=c[0],l=c[1];if(i===e){var s=Math.abs(t-l);if(!0===t<=l){var u=s-r;a[e]=u<=0?t:u}else a[e]=r<l?l:r}}))};for(var f in s.coordinates)m(f);u(t,n),c(a,t)}),[l,c,n,u]);return Object(a.useEffect)((function(){t.settings&&m(t,s.current)}),[t,m]),r.a.createElement("div",{className:"letter-item-animation",ref:s},r.a.createElement("p",{className:"letter--text end"},n),r.a.createElement("canvas",{className:"canvas"}))}))),M=function(e){var t=e.instanceFont,n=e.setInstanceValue,c=e.text,i=e.onSelect,l=Object(a.useRef)(null);return Object(a.useEffect)((function(){l.current&&n(t.coordinates,l.current)}),[c,t,n]),r.a.createElement("div",{className:"letter-item",ref:l,onClick:function(){return i(t.coordinates)}},r.a.createElement("p",{className:"letter--text"},c))},U=(n(266),Object(a.memo)((function(e){e.letter;var t=e.setInstanceValue,n=e.instances,c=e.text,i=e.onSelect,l=Object(a.useState)(null),s=Object(o.a)(l,2),u=s[0],m=s[1],f=function(e){if(e instanceof Object===!1)return!1;var t=n.filter((function(t){return t.coordinates===e}));t.length>0&&(i(t[0]),m(e))};return r.a.createElement("ul",{className:"letter-type"},n&&n.map((function(e,n){return r.a.createElement("li",{className:"letter-type--item","data-active":u===e.coordinates,key:n},r.a.createElement(M,{instanceFont:e,setInstanceValue:t,text:c,onSelect:f}))})))}))),D=(n(267),Object(a.memo)((function(e){var t=e.items,n=e.fvar,c=e.index,i=e.text,l=e.type,s=e.onChange,u=Object(a.useContext)(P),m=Object(a.useContext)($),f=Object(a.useContext)(R),d=u.setInstanceValue,b=u.initialState,v=m.updateLetterItem,p=f.textProperties,h=Object(a.useRef)(null),g=Object(a.useState)({index:c,instance:b.coordinates,easing:B()(.83,.01,.47,.59),settings:b.coordinates}),x=Object(o.a)(g,2),j=x[0],O=x[1],E=function(){return Array.isArray(t)&&t&&t.filter((function(e){return e===j})).length>0},y=Object(a.useCallback)((function(e){v(c,{instance:Object(S.a)({},e)}),d(e,h.current)}),[c,v,d]),C=Object(a.useCallback)((function(e){var t=j;t.easing=B()(e[0],e[1],e[2],e[3]),O(t)}),[j]);return Object(a.useEffect)((function(){if(Array.isArray(t)){var e=t.filter((function(e){return e.index===c}));e.length>0&&O(e[0])}}),[t,c,O]),r.a.createElement("div",{className:"letter",ref:h,"data-active":E(),"data-type":l},r.a.createElement("p",{className:"letter--text",onClick:function(){return s(j)}},i),2===l&&r.a.createElement(U,{letter:j,instances:n instanceof Object?n.instances:[],onSelect:y,setInstanceValue:d,text:i}),3===l&&r.a.createElement(q,{letter:j,initialState:b,text:i,textProperties:p,setInstanceValue:d}),2===l&&E()&&r.a.createElement("div",{className:"letter--easing"},r.a.createElement(H.a,{defaultValue:[.83,.01,.47,.59],onChange:C})))}))),J=(n(268),Object(a.memo)((function(e){var t=e.font,n=e.word,a=e.letters,c=e.getFvarTable,i=(e.index,e.type),l=e.onChange;return r.a.createElement("div",{className:"word"},function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],o=0;o<t.length;o++){for(var s=t[o],u=0;u<s.length;u++){var m=s[u];n.push(r.a.createElement(D,{items:a,fvar:c(e),text:m,index:"".concat(m,"-").concat(o,"-").concat(u),key:"".concat(m,"-").concat(o,"-").concat(u),type:i,onChange:l}))}o===t.length-1&&n.push(r.a.createElement(D,{items:a,fvar:c(e),text:"\xa0",type:1,key:1,index:1,onChange:function(){}}))}return n}(t,n))}))),$=Object(a.createContext)({}),G=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],l=c[1],s=Object(a.useCallback)((function(e){switch(e){case"right":return"flex-end";case"center":return"center";default:return"flex-start"}}),[]),u=Object(a.useCallback)((function(e){return i.length>0&&i.filter((function(t){return t.index===e}))[0]}),[i]),m=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=u(e.index);l(t instanceof Object?i.filter((function(e){return e!==t})):[].concat(Object(I.a)(i),[e]))}),[i,l,u]),f=Object(a.useCallback)((function(e,t){var n=u(e);if(n instanceof Object){var a=i;a[a.indexOf(n)]=Object(S.a)(Object(S.a)({},n),t),l(Object(I.a)(a))}}),[i,l,u]),d=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.trim().split(" ")}),[]),b=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.split(/\r?\n/)}),[]),v=Object(a.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=b(e),a=0;a<n.length;a++){for(var r=n[a],c=d(r),i=0;i<c.length;i++)t.push({character:1,item:c[i],index:"".concat(a).concat(i)});t.push({character:2,item:{}})}return t}),[d,b]),p=Object(a.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=[],o=v(t),s=0;s<o.length;s++){var u=o[s],m=u.character,f=u.item,d=u.index;switch(m){case 2:l.push(r.a.createElement("div",{className:"separator",key:"separator".concat(s)}));break;case 1:default:l.push(r.a.createElement(J,{index:s,key:d,font:e,word:f,letters:i,getFvarTable:n,type:c,onChange:a}))}}return l}),[i,v]);return r.a.createElement($.Provider,{value:{letters:i,setAll:l,setLetters:m,getLetter:u,updateLetterItem:f,getCountWords:d,getLineBreak:b,getAlign:s,textWordLetter:p,textWordLetterArray:v}},t)})),K=Object(a.createContext)({}),Q=function(e){var t=e.children,n=Object(a.useContext)(F),c=Object(a.useContext)($),i=n.font,l=A(i).getFvarTable,o=c.setAll,s=c.textWordLetterArray,u=Object(a.useCallback)((function(e,t){var n=e.filter((function(e){return e.index===t}));return console.log(e,"check"),n.length>0}),[]),m=Object(a.useCallback)((function(e){var t=l(i).instances;if(t instanceof Object)for(var n in t){var a=t[n];if(a instanceof Object&&e===a.name.en)return a}return{}}),[l,i]),f=Object(a.useCallback)((function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=a.index,c=a.type,i=a.bezier.split(",");t.push({index:r,easing:B()(i[0],i[1],i[2],i[3]),instance:m(c),settings:{name:{en:"Neutra"},coordinates:{wdth:30,wght:0}}})}return t}),[m]),d=Object(a.useCallback)((function(e,t){for(var n=[],a=s(e).filter((function(e){return 1===e.character})),r=0;r<a.length;r++){var c=a[r],i=c.item,l=c.index,m=t[r];if(m)for(var d=0;d<m.limit;d++){var b=Math.floor(Math.random()*c.item.length+1),v=Math.floor(Math.random()*m.limit+1),p=i[b-1],h="".concat(p,"-").concat(b-1,"-").concat(l.toString()[l.length-1]),g=m.letters[v];!1===u(n,h)&&g instanceof Object&&n.push({value:p,index:h,type:g.type,bezier:m.letters[v].bezier})}}o(f(n))}),[s,o,u,f]);return r.a.createElement(K.Provider,{value:{generate:d}},t)},X=Object(a.createContext)({active:!0}),Y=function(e){var t=e.children;return r.a.createElement(N,null,r.a.createElement(L,null,r.a.createElement(g,null,r.a.createElement(T,null,r.a.createElement(G,null,r.a.createElement(Q,null,r.a.createElement(X.Provider,{value:{active:!0}},t)))))))},Z=n(403),_=n(410),ee=n(82),te=n(84),ne=n(399),ae=n(404),re=n(398),ce=(n(269),Object(a.memo)((function(){var e=Object(a.useContext)(h),t=e.current,n=e.setCurrent,c=e.onPlay,i=e.play;return r.a.createElement(ae.a,{className:"animation-slider",xs:24},r.a.createElement("div",{className:"animation-slider--title"},r.a.createElement("p",null,"Time Controls")),r.a.createElement("div",{className:"animation-slider--controls"},r.a.createElement(ee.a,{className:!0===i?"btn-ui active min":"btn-ui min",onClick:function(){return c()}},r.a.createElement("span",{className:"text"},"Render"))),r.a.createElement("div",{className:"animation-slider--slider"},r.a.createElement(re.a,{onChange:function(e){n(e)},min:0,max:100,value:t,progress:!0,defaultValue:0})))}))),ie=n(406),le=n(397),oe=n(407),se=n(408),ue=n(405),me=(n(372),function(e){var t=e.icon,n=e.label,a=e.property,c=e.onChange,i=e.options,l=e.value;return r.a.createElement("div",{className:"text-property-slider"},r.a.createElement(ue.a,{className:"label-control"},r.a.createElement(te.a,{icon:t.toString()}),n),r.a.createElement(re.a,Object.assign({},i,{tooltip:!0,progress:!0,onChange:function(e){return c(e,a)},value:l})))}),fe=(n(373),function(e){var t=e.textProperties,n=e.setTextProperties,a=t.fontSize,c=t.lineHeight,i=t.letterSpacing,l=function(e,a){var r={};r[a]=Number(e);var c=Object(S.a)(Object(S.a)({},t),r);n(c)},o=function(e){var a=Object(S.a)(Object(S.a)({},t),{},{textAlign:e});n(a)};return r.a.createElement(ie.a,{className:"text-properties"},r.a.createElement(le.a,null,r.a.createElement(ae.a,{xs:20},r.a.createElement(ae.a,{xs:8},r.a.createElement(me,{icon:"font",label:"Font Size",property:"fontSize",onChange:l,options:{defaultValue:60,step:1,min:32,max:200},value:a})),r.a.createElement(ae.a,{xs:8},r.a.createElement(me,{icon:"text-height",label:"Line Height",property:"lineHeight",onChange:l,options:{defaultValue:.1,step:.1,min:.1,max:2},value:c})),r.a.createElement(ae.a,{xs:8},r.a.createElement(me,{icon:"text-width",label:"Letter Spacing",property:"letterSpacing",onChange:l,options:{defaultValue:0,step:1,min:-20,max:20},value:i}))),r.a.createElement(ae.a,{xs:4,className:"text-properties--align"},r.a.createElement(oe.a,null,r.a.createElement(se.a,{icon:r.a.createElement(te.a,{icon:"align-left"}),onClick:function(){return o("left")}}),r.a.createElement(se.a,{icon:r.a.createElement(te.a,{icon:"align-center"}),onClick:function(){return o("center")}}),r.a.createElement(se.a,{icon:r.a.createElement(te.a,{icon:"align-right"}),onClick:function(){return o("right")}})))))}),de=(n(380),function(e){e.font;var t=Object(a.useContext)(R),n=t.textProperties,c=t.setTextProperties;return r.a.createElement("div",{className:"edit-text"},r.a.createElement(fe,{textProperties:n,setTextProperties:c}))}),be=n(400),ve=(n(381),function(e){var t=e.label,n=e.setText,a=e.text;return r.a.createElement(ie.a,{className:"input-text"},r.a.createElement(le.a,{className:"input-text--text"},r.a.createElement("label",{className:"label"},t),r.a.createElement(be.a,{placeholder:t,name:"text",componentClass:"textarea",value:a,onChange:function(e){return n(e.toString().toUpperCase())}})))}),pe=n(66),he=n(185),ge=function(e){var t=e.className,n=e.current,c=e.children,i=e.width,l=e.onPrevNext,s=Object(a.useRef)(null),u=Object(pe.b)((function(){return{x:0}})),m=Object(o.a)(u,2),f=m[0],d=m[1],b=Object(a.useState)({display:"none",width:0}),v=Object(o.a)(b,2),p=v[0],h=v[1],g=Object(a.useCallback)((function(){if(s instanceof Object===!1)return!1;var e=s.current;if(e instanceof Object){var t=e.getBoundingClientRect().width,n=e.querySelector(".content").getBoundingClientRect();return{diff:Math.floor(t-n.width),galleryWidth:n.width,containerWidth:t,widthElement:i}}return!1}),[i,s]),x=Object(a.useCallback)((function(){var e=g();if(e instanceof Object){var t=e.diff,n=e.galleryWidth;if(t)if(t<0)return"".concat(100*t/n*-1,"%")}return 0}),[g]),j=Object(he.a)((function(e){var t=e.down,n=(Object(o.a)(e.movement,1)[0],Object(o.a)(e.direction,1)[0]);e.distance>i/2&&(t||l((n>0?-1:1)>0?"next":"prev",g))})),O=Object(a.useCallback)((function(e,t,n){var a=x(),r=n.current.parentNode;if(0===a)return d({x:0}),r.setAttribute("data-controls","l"),t({display:"none",width:0});if(e>0){var c=g(),i=c.diff,l=c.widthElement,o=c.containerWidth,s=c.galleryWidth;if(i){var u=-1*(l*e);u>o-s?(r.setAttribute("data-controls",""),d({x:u})):(d({x:o-s}),r.setAttribute("data-controls","r"))}}else r.setAttribute("data-controls","l"),d({x:0});return t({display:"inline-block",width:a})}),[x,d,g]);return Object(a.useEffect)((function(){s.current instanceof Object&&O(n,h,s)}),[n,c,h,O]),r.a.createElement(a.Fragment,null,r.a.createElement(pe.a.div,Object.assign({},j(),{className:"".concat(t,"--list"),ref:s}),r.a.createElement(pe.a.div,{className:"content",style:{transform:f.x.interpolate((function(e){return"translate3d(".concat(e,"px,0,0)")})),width:c.length*i}},c&&c.map((function(e){return e})))),r.a.createElement("div",{className:"".concat(t,"--scroll"),style:{display:p.display}},r.a.createElement(pe.a.div,{className:"bar",style:Object(S.a)({left:f.x.interpolate((function(e){return function(e){var t=g();if(t instanceof Object){var n=100*e/t.containerWidth*-1;return console.log(n),"".concat(n,"%")}return 0}(e)}))},p)})))},xe=n(26);n(382);var je=function(e){var t=function(t){Object(m.a)(a,t);var n=Object(f.a)(a);function a(e){var t;return Object(s.a)(this,a),(t=n.call(this,e)).state={direction:"none",current:0,last:void 0},t.onPrevNext=t.onPrevNext.bind(Object(xe.a)(t)),t.setCurrent=t.setCurrent.bind(Object(xe.a)(t)),t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.items;this.setState({items:e})}},{key:"setCurrent",value:function(e){if(!0===isNaN(e))return!1;var t=this.state.current;this.setState({last:t,direction:e>t?"prev":"next",current:e})}},{key:"onPrevNext",value:function(e){var t,n=this.state.current,a=this.props.items;t="prev"===e?n-1<0?a.length-1:n-1:n+1>=a.length?0:n+1,this.setState({last:n,current:t,direction:e})}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.state,this.props,{onPrevNext:this.onPrevNext,setCurrent:this.setCurrent}))}}]),a}(r.a.Component);return t.displayName="SliderBase(".concat(e.displayName||e.name,")"),t}((function(e){var t=e.current,n=e.items,c=e.onPrevNext,i=e.text,l=Object(a.useContext)(K),o=Object(a.useContext)(R),s=l.generate,u=o.setTextProperties,m=Object(a.useCallback)((function(e,t,n){u(n),s(e,t)}),[s,u]);return r.a.createElement("div",{className:"gallery-templates"},r.a.createElement(ge,{className:"gallery-templates--item-slider",current:t,onPrevNext:c,width:210},n&&n.map((function(e,t){var n=e.element,a=e.template,c=e.textProperties;return r.a.createElement("div",{className:"gallery-templates--item-element",key:t,onClick:function(){return m(i,a,c)}},n)}))))})),Oe=n(401),Ee=(n(383),Object(a.memo)((function(e){var t=e.onLoad,n=Object(a.useCallback)((function(e){if(e.length>0){var n=e[e.length-1];n instanceof Object&&t(n.blobFile)}}),[t]);return r.a.createElement("div",{className:"drag-drop","data-active":!0},r.a.createElement(Oe.a,{autoUpload:!0,draggable:!0,accept:".ttf",fileListVisible:!1,onChange:n},r.a.createElement("div",{className:"drag-drop--container"},r.a.createElement("p",{className:"drag-drop--container--text"},"Area to upload"))))}))),ye=(n(386),function(e){var t=e.names,n=t.fontFamily,a=t.version;return r.a.createElement(ae.a,{className:"font-load",xs:24},r.a.createElement(ae.a,{className:"font-load--content",xs:24},r.a.createElement("p",{className:"label"},"Font Family"),r.a.createElement("p",{className:"name"},n.en),r.a.createElement("p",{className:"version"},a.en)))}),Ce=(n(387),Object(a.memo)((function(e){var t=e.font,n=e.onLoad;return r.a.createElement("div",{className:"load"},t&&r.a.createElement(ye,{names:t.names}),r.a.createElement(Ee,{onLoad:n}))}))),ke=(n(388),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=Object(a.useContext)($),l=A(t).getFvarTable,o=i.textWordLetter,s=i.getAlign;return r.a.createElement("div",{className:"preview"},r.a.createElement(ae.a,{className:"preview--content",style:Object(S.a)(Object(S.a)({},c),{},{justifyContent:s(c.textAlign)})},t&&o(t,n,l,(function(){}),3)),r.a.createElement("canvas",{id:"preview-canvas",width:"1920",height:"1080"}),r.a.createElement("video",{controls:!0}))}))),we=(n(389),Object(a.memo)((function(e){var t=e.font,n=e.text,c=Object(a.useContext)($),i=c.letters,l=c.setLetters,o=c.textWordLetter,s=A(t).getFvarTable,u=Object(a.useRef)(null),m=Object(a.useCallback)((function(e){return l(e)}),[l]);return r.a.createElement("div",{className:"select-letters",ref:u},r.a.createElement(ae.a,{xs:24,className:"select-letters--title"},r.a.createElement("p",null,"Click to select the letter you want to transform")),r.a.createElement(ae.a,{xs:24,className:"select-letters--content"},t&&o(t,n,s,m,1)),r.a.createElement(ae.a,{xs:24,className:"select-letters--count"},r.a.createElement("p",null,r.a.createElement("strong",null,i.length)," letters")))}))),Ne=n(409),Se=(n(390),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=Object(a.useContext)($),l=A(t).getFvarTable,o=i.letters,s=i.textWordLetter;return r.a.createElement("div",{className:"select-final-state"},r.a.createElement(ae.a,{className:"select-final-state--title",xs:24},r.a.createElement("p",null,"Select the final stage to letter"),!o.length&&r.a.createElement(Ne.a,{type:"error",description:r.a.createElement("p",null,"Select at least one letter in the previous section.")})),r.a.createElement(ae.a,{className:"select-final-state--content",style:Object(S.a)({},c)},t&&s(t,n,l,(function(){}),2)))}))),Pe=function(){var e=Object(a.useContext)(F),t=Object(a.useContext)(R),n=[{element:r.a.createElement("img",{src:"https://via.placeholder.com/150?Text=Example",alt:"sip"}),template:[{word:1,letters:[{type:"Neutra Curta",limit:2,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:2,bezier:"0.83,1,0.40,1"},{type:"Expressiva",limit:1,bezier:"0.83,0.01,0.7,0.59"},{type:"Expressiva Longa",limit:1,bezier:"0.3,0.01,0.7,0.5"}],limit:2}],textProperties:{fontSize:65,lineHeight:.9,letterSpacing:0,textAlign:"left"}},{element:r.a.createElement("img",{src:"https://via.placeholder.com/150?Text=Example Digital",alt:"sip"}),template:[{word:1,letters:[{type:"Neutra Curta",limit:1,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:1,bezier:"0.83,1,0.40,1"},{type:"Expressiva Longa",limit:1,bezier:"0.3,0.01,0.7,0.5"}],limit:2},{word:2,letters:[{type:"Neutra Curta",limit:1,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:2,bezier:"0.83,1,0.40,1"},{type:"Expressiva Longa",limit:2,bezier:"0.3,0.01,0.7,0.5"}],limit:4}],textProperties:{fontSize:45,lineHeight:1.5,letterSpacing:0,textAlign:"center"}},{element:r.a.createElement("img",{src:"https://via.placeholder.com/150?Text=Canal Brasil",alt:"sip"}),template:[{word:1,letters:[{type:"Neutra Curta",limit:2,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:2,bezier:"0.83,1,0.40,1"},{type:"Expressiva Longa",limit:1,bezier:"0.3,0.01,0.7,0.5"}],limit:2},{word:2,letters:[{type:"Neutra Curta",limit:2,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:2,bezier:"0.83,1,0.40,1"},{type:"Expressiva Longa",limit:2,bezier:"0.3,0.01,0.7,0.5"}],limit:4}],textProperties:{fontSize:57,lineHeight:1,letterSpacing:1,textAlign:"right"}},{element:r.a.createElement("img",{src:"https://via.placeholder.com/150?Text=Example Full",alt:"sip"}),template:[{word:1,letters:[{type:"Neutra Curta",limit:2,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:2,bezier:"0.83,1,0.40,1"},{type:"Expressiva Longa",limit:1,bezier:"0.3,0.01,0.7,0.5"}],limit:2},{word:2,letters:[{type:"Neutra Curta",limit:2,bezier:"0.83,0.01, 0.47, 0.59"},{type:"Expressiva Curta",limit:2,bezier:"0.83,1,0.40,1"},{type:"Expressiva Longa",limit:2,bezier:"0.3,0.01,0.7,0.5"}],limit:4}],textProperties:{fontSize:35,lineHeight:1,letterSpacing:0,textAlign:"left"}}],c=Object(a.useState)(!1),i=Object(o.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(!1),m=Object(o.a)(u,2),f=m[0],d=m[1],b=e.font,v=e.onLoad,p=t.text,h=t.setText,g=t.textProperties;return r.a.createElement(Z.a,{justify:"center"},r.a.createElement(Z.a.Item,{colspan:18},r.a.createElement(Ce,{font:b,onLoad:v})),r.a.createElement(Z.a.Item,{colspan:9},r.a.createElement(ve,{label:"Type here to text",setText:h,text:p})),r.a.createElement(Z.a.Item,{colspan:9},r.a.createElement(_.a,null,r.a.createElement(ee.a,{onClick:function(){return s(!0)}},r.a.createElement(te.a,{icon:"gear-circle"})),r.a.createElement(ee.a,{onClick:function(){return d(!0)}},r.a.createElement(te.a,{icon:"font"})))),r.a.createElement(Z.a.Item,{colspan:18},r.a.createElement(je,{items:n,text:p})),r.a.createElement(Z.a.Item,{colspan:18},r.a.createElement(ce,null),r.a.createElement(ke,{font:b,text:p,textProperties:g})),r.a.createElement(ne.a,{size:"xs",placement:"right",show:l,onHide:function(){return s(!1)}},r.a.createElement(ne.a.Header,null,r.a.createElement(ne.a.Title,null,"Advanced Properties")),r.a.createElement(ne.a.Body,null,r.a.createElement(we,{font:b,text:p}),r.a.createElement(Se,{font:b,text:p,textProperties:g})),r.a.createElement(ne.a.Footer,null,r.a.createElement(ee.a,{onClick:function(){return s(!1)},appearance:"primary"},"Confirm"),r.a.createElement(ee.a,{onClick:function(){return s(!1)},appearance:"subtle"},"Cancel"))),r.a.createElement(ne.a,{size:"xs",placement:"right",show:f,onHide:function(){return d(!1)}},r.a.createElement(ne.a.Header,null,r.a.createElement(ne.a.Title,null,"Text properties")),r.a.createElement(ne.a.Body,null,r.a.createElement(de,{font:b})),r.a.createElement(ne.a.Footer,null,r.a.createElement(ee.a,{onClick:function(){return d(!1)},appearance:"primary"},"Confirm"),r.a.createElement(ee.a,{onClick:function(){return d(!1)},appearance:"subtle"},"Cancel"))))},ze=(n(391),function(){return r.a.createElement(Y,null,r.a.createElement(l.a,null,r.a.createElement(Pe,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(392);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t){}},[[187,1,2]]]);
//# sourceMappingURL=main.5f79d3b6.chunk.js.map