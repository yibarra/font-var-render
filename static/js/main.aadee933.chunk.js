(this["webpackJsonpfont-var-render"]=this["webpackJsonpfont-var-render"]||[]).push([[0],{181:function(e,t,n){e.exports=n(385)},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},239:function(e,t,n){},342:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),l=n(8),o=function(e){var t=Object(a.useRef)(window.requestAnimationFrame),n=Object(a.useRef)(),r=Object(a.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1],s=null,u=function a(r){var c=Date.now()-s;c<"3000"?(e(c),t.current=requestAnimationFrame(a)):f(),n.current=r},f=function(){cancelAnimationFrame(t.current),o(!1)};return Object(a.useEffect)((function(){return function(){return cancelAnimationFrame(t.current)}}),[]),{play:i,setPlay:o,onPlay:function(){s=Date.now(),t.current=requestAnimationFrame(u),o(!0)},onStop:f}},s=Object(a.createContext)({}),u=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)(0),c=Object(l.a)(n,2),i=c[0],u=c[1],f=o((function(e){var t=.001*e;if(!(t>=.11))return 0;u((function(){var t=(e-.11)/940*100;return t>100?100:parseFloat(t.toString()).toFixed(2)}))})),m=f.play,b=f.setPlay,d=f.onPlay,v=f.onStop,p=Object(a.useCallback)((function(){var e=!m;!0===e?(b(e),d()):v()}),[d,v,m,b]);return r.a.createElement(s.Provider,{value:{current:i,setCurrent:u,play:m,onPlay:p}},t)})),f=n(9),m=n(114),b=function(e){var t=Object(a.useCallback)((function(e){return e.names?e.names.fontFamily.en:"Canal Brasil VF"}),[]),n=Object(a.useCallback)((function(e){return!!e.tables&&e.tables.fvar}),[]),r=Object(a.useCallback)((function(t){var a=n(e);return a?a.instances[t]:null}),[e,n]),c=Object(a.useCallback)((function(t){var a=n(e);if(a){for(var r=[],c=a.instances[t].coordinates,i=0;i<a.axes.length;i++)r.push("'".concat(a.axes[i].tag,"' ").concat(c[a.axes[i].tag].toString()));return r.join()}return null}),[e,n]);return{getFvarTable:n,getNamedInstance:r,getNamedInstanceSetting:c,getName:t}},d=Object(a.createContext)({}),v=Object(a.memo)((function(e){var t=e.children,n=e.font,c=e.getFvarTable,i=Object(a.useState)(),o=Object(l.a)(i,2),s=o[0],u=o[1],m=Object(a.useState)({coordinates:{name:{en:"Neutra"},coordinates:{wdth:30,wght:0}}}),b=Object(l.a)(m,2),v=b[0],p=b[1],j=Object(a.useCallback)((function(e){u(Object(f.a)(Object(f.a)({},s),e))}),[u,s]),O=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var n=Object.keys(e).map((function(t){return"'".concat(t,"' ").concat(e[t])}));n&&t instanceof Object&&(t.style.fontVariationSettings=n.join());return!0}),[]),h=Object(a.useCallback)((function(e,t){if(c(n)){var a=Object(f.a)(Object(f.a)({},s),e);O(a,t)&&u(a)}}),[s,c,O,n]),g=Object(a.useCallback)((function(e){O(e,document.body),p(e)}),[O]);return Object(a.useEffect)((function(){!function(){var e=document.body;e instanceof Object&&(e.style.fontVariationSettings='"wdth" 30, "wght" 0')}()}),[n]),r.a.createElement(d.Provider,{value:{settings:s,setNamedInstance:j,setNamedInstanceValue:h,setInstanceValue:O,initialState:v,setInitialState:g}},t)})),p=Object(a.createContext)({}),j=function(e){var t=e.children,n=Object(a.useState)("TITULO"),c=Object(l.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)({fontSize:65,lineHeight:1,letterSpacing:-10,textAlign:"left"}),u=Object(l.a)(s,2),f=u[0],m=u[1];return r.a.createElement(p.Provider,{value:{text:i,setText:o,textProperties:f,setTextProperties:m}},t)},O=(n(186),Object(a.memo)((function(e){var t=e.name,n=e.letter,c=e.onLetterFrames,i=e.text,o=e.setInstanceValue,s=e.textProperties,u=e.active,m=Object(a.useState)([]),b=Object(l.a)(m,2),d=b[0],v=b[1],p=Object(a.useRef)(null),j=Object(a.useCallback)((function(e,t,n,a){var r=t;t.filter((function(e,t){return t===n}))[0]instanceof Object?r[n]=Object(f.a)({src:e},a):r.push(Object(f.a)({src:e},a)),v(r),n>=99&&c(t)}),[c]),O=Object(a.useCallback)((function(e,t,n,a,r){if(a instanceof Object===!1)return!1;var c=new Image;c.onload=function(){var e=c.naturalWidth,i=c.naturalHeight,l={alt:"letter base",width:parseInt(e.toString(),10),height:parseInt(i.toString(),10),x:a.x,y:a.y,index:r};j(c,t,n,l)},c.src=e}),[j]),h=Object(a.useCallback)((function(e,n,a,r){var c=e.getBoundingClientRect(),i=c.width,l=c.height,o=e.parentNode.querySelector(".canvas");if(o){var u=o.getContext("2d");o.setAttribute("width",i+10),o.setAttribute("height",l+10),u&&(u.clearRect(0,0,i+10,l+10),u.beginPath(),u.font="".concat(s.fontSize,"px ").concat(t),u.fillStyle="white",u.textBaseline="middle",u.fillText(n,0,l/2),O(o.toDataURL("image/png",1),d,a,e.parentNode.getBoundingClientRect(),r))}}),[s,d,t,O]),g=Object(a.useCallback)((function(e,t,n){if(e instanceof Object===!1||t instanceof Object===!1)return!1;var a={},r=e.settings,c=e.instance;if(!0===u)if(r!==c){var s=n;Object.entries(c.coordinates).forEach((function(e){var t=Object(l.a)(e,2),c=t[0],i=t[1],o=r.coordinates[c];if(!0===i<o){var u=Math.abs(i-o);if(u>0)if(0===i){var f=parseInt((u-n).toString(),10);a[c]=f>i?f:i}else{var m=parseInt((o-s).toString());a[c]=m>i?m:i}else a[c]=i}else if(o===i)a[c]=i;else{var b=parseInt((i*n/100).toString(),10);a[c]=b>i?i:b}}))}else a=r.coordinates;else a=c.coordinates;h(t,i,n,e.index),o(a,t)}),[u,h,o,i]),x=Object(a.useCallback)((function(e){for(var t=function(t){setTimeout((function(){return g(e,p.current,t)}),500)},n=0;n<100;n++)t(n)}),[g]),E=Object(a.useCallback)((function(){x(n)}),[x,n]);return r.a.createElement("div",{className:"letter-item-animation",ref:p,onClick:function(){return E()}},r.a.createElement("p",{className:"letter--text end"},i),r.a.createElement("canvas",{className:"canvas"}))}))),h=(n(187),Object(a.memo)((function(e){var t=e.instanceFont,n=e.setInstanceValue,c=e.text,i=e.onSelect,l=Object(a.useRef)(null);return Object(a.useEffect)((function(){l.current&&n(t.coordinates,l.current)}),[c,t,n,l]),r.a.createElement("div",{className:"letter-item",ref:l,onClick:function(){return i(t.coordinates)}},r.a.createElement("p",{className:"letter--text"},c))}))),g=(n(188),Object(a.memo)((function(e){var t=e.current,n=e.setInstanceValue,c=e.instances,i=e.text,l=e.onSelect,o=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=c.filter((function(t){return t.coordinates===e}));t.length>0&&l(t[0])}),[l,c]);return r.a.createElement("ul",{className:"letter-type"},c&&c.map((function(e,a){return r.a.createElement("li",{className:"letter-type--item","data-active":t.coordinates===e.coordinates,key:a},r.a.createElement(h,{instanceFont:e,setInstanceValue:n,text:i,onSelect:o}))})))}))),x=(n(189),Object(a.memo)((function(e){var t=e.active,n=e.items,c=e.fvar,i=e.index,o=e.name,s=e.text,u=e.type,m=e.onChange,b=e.setInstanceValue,d=e.initialState,v=e.updateLetterItem,p=e.textProperties,j=e.setLetters,h=Object(a.useRef)(),x=Object(a.useState)({index:i,instance:d.coordinates,easing:[.83,.01,.47,.59],settings:d.coordinates,frames:[]}),E=Object(l.a)(x,2),C=E[0],y=E[1],k=Object(a.useCallback)((function(e){!1===e&&j(C)}),[C,j]),N=Object(a.useCallback)((function(e){v(i,{instance:Object(f.a)({},e)}),b(e,h.current)}),[i,v,b]),S=Object(a.useCallback)((function(e){v(i,{settings:Object(f.a)({},e)})}),[i,v]),w=Object(a.useCallback)((function(e){v(i,{frames:Object(f.a)({},e)})}),[i,v]);return Object(a.useEffect)((function(){var e=n.filter((function(e){return e.index===i}));!0===t&&e.length>0&&y(e[0]),k(e.length>0)}),[n,t,i,y,k]),r.a.createElement("div",{className:"letter",ref:h,"data-active":t,"data-type":u},r.a.createElement("p",{className:"letter--text",onClick:function(){return m(C)}},s),2===u&&r.a.createElement(g,{instances:c instanceof Object?c.instances:[],current:C.settings,onSelect:S,setInstanceValue:b,text:s,key:1}),2===u&&r.a.createElement(g,{instances:c instanceof Object?c.instances:[],current:C.instance,onSelect:N,setInstanceValue:b,text:s,key:2}),3===u&&r.a.createElement(O,{initialState:d,name:o,letter:C,active:t,text:s,onLetterFrames:w,textProperties:p,setInstanceValue:b}))}))),E=(n(190),Object(a.memo)((function(e){var t=e.font,n=e.word,c=e.letters,i=e.getFvarTable,l=e.index,o=e.type,s=e.onChange,u=b(t).getName,f=Object(a.useContext)(d),m=Object(a.useContext)(C),v=Object(a.useContext)(p),j=f.setInstanceValue,O=f.initialState,h=m.updateLetterItem,g=m.setLetters,E=v.textProperties,y=Object(a.useCallback)((function(e,t){return Array.isArray(e)&&e&&e.filter((function(e){return e.index===t})).length>0}),[]),k=Object(a.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a=0;a<t.length;a++){var f=t[a],m="".concat(f,"-").concat(l+1,"-").concat(a+1),b=y(c,m);n.push(r.a.createElement(x,{active:b,items:c,name:u(e),fvar:i(e),text:f,index:m,key:m,type:o,setInstanceValue:j,initialState:O,updateLetterItem:h,textProperties:E,setLetters:g,onChange:s}))}return n}),[y,u,l,c,i,s,o,j,O,h,E,g]);return r.a.createElement("div",{className:"word"},k(t,n))}))),C=Object(a.createContext)({}),y=Object(a.memo)((function(e){var t=e.children,n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],o=c[1],s=Object(a.useCallback)((function(e){switch(e){case"right":return"flex-end";case"center":return"center";default:return"flex-start"}}),[]),u=Object(a.useCallback)((function(e){return i.length>0&&i.filter((function(t){return t.index===e}))[0]}),[i]),b=Object(a.useCallback)((function(e){if(e instanceof Object===!1)return!1;var t=u(e.index);o(t instanceof Object?i.filter((function(e){return e!==t})):[].concat(Object(m.a)(i),[e]))}),[i,o,u]),d=Object(a.useCallback)((function(e,t){var n=u(e);if(n instanceof Object){var a=i;a[a.indexOf(n)]=Object(f.a)(Object(f.a)({},n),t),o(Object(m.a)(a))}}),[i,o,u]),v=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.trim().split(" ")}),[]),p=Object(a.useCallback)((function(e){return null===e||void 0===e?void 0:e.split(/\r?\n/)}),[]),j=Object(a.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=p(e),a=0;a<n.length;a++){for(var r=n[a],c=v(r),i=0;i<c.length;i++)t.push({character:1,item:c[i],index:"".concat(a+1).concat(i+1)});t.push({character:2,item:{}})}return t}),[v,p]),O=Object(a.useCallback)((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,l=[],o=j(t),s=0;s<o.length;s++){var u=o[s],f=u.character,m=u.item,b=u.index;switch(f){case 2:l.push(r.a.createElement("div",{className:"separator",key:"separator".concat(s),"data-type":"2"}));break;case 1:default:l.push(r.a.createElement(E,{index:s,key:b,font:e,word:m,letters:i,getFvarTable:n,type:c,onChange:a})),l.push(r.a.createElement("div",{className:"separator",key:"separator".concat(s)}))}}return l}),[i,j]);return r.a.createElement(C.Provider,{value:{letters:i,setAll:o,setLetters:b,getLetter:u,updateLetterItem:d,getCountWords:v,getLineBreak:p,getAlign:s,textWordLetter:O,textWordLetterArray:j}},t)})),k=n(49),N=n.n(k),S=n(71),w=n(109),P=n(167),F=n.n(P),T=n(394),I=Object(a.createContext)({}),A=function(e){var t=e.children,n=Object(a.useCallback)((function(e,t){T.a.open({title:e,duration:5e3,description:t})}),[5e3]),c=Object(a.useCallback)((function(e,t){T.a.info({title:e,duration:5e3,description:t})}),[5e3]),i=Object(a.useCallback)((function(e,t){T.a.error({title:e,duration:5e3,description:t})}),[5e3]);return r.a.createElement(I.Provider,{value:{notificationBasic:n,notificationSuccess:c,notificationError:i}},t)},L=Object(a.createContext)({}),V=Object(a.memo)((function(e){var t=e.children,n=Object(a.useContext)(I),c=n.notificationSuccess,i=n.notificationError,o=Object(a.useState)(),s=Object(l.a)(o,2),u=s[0],f=s[1],m=b(u).getFvarTable,d=function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},p=Object(a.useCallback)(function(){var e=Object(S.a)(N.a.mark((function e(t,n){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document instanceof Object&&(a=F.a.encode(d(new Uint8Array(n))),r="@font-face {\n        font-family: '".concat(t.names.fontFamily.en,"';\n        src: url('data:;base64,").concat(a,"') format('truetype');\n      }"),document.getElementById("font-load").textContent=r,c("Upload","The type font was successfully loaded!"));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c]),j=Object(a.useCallback)((function(e){var t=new FileReader;t.onload=function(e){try{var t=e.target.result,n=w.a.parse(t);f(n),p(n,t)}catch(a){i("Erro loading","Verify the font file and try again!"),console.error(a.toString())}},t.onerror=function(e){i("Erro loading","Verify the font file and try again!"),console.error(e.toString())},t.readAsArrayBuffer(e)}),[p,i]);return Object(a.useEffect)((function(){!function(){var e="".concat("/font-var-render").concat("/fonts/canal-brasil.ttf");fetch(e).then((function(e){return e.blob()})).then((function(t){var n=new File([t],"font",{type:t.type});w.a.load(e,(function(e,t){e?console.log(e):(document.body.style.fontFamily=t.names.fontFamily.en,f(t))})),j(n)}))}()}),[j]),r.a.createElement(L.Provider,{value:{font:u,onLoad:j}},r.a.createElement(v,{font:u,getFvarTable:m},t))})),R=Object(a.createContext)({}),B=function(e){var t=e.children,n=Object(a.useContext)(L),c=Object(a.useContext)(C),i=n.font,l=b(i).getFvarTable,o=c.setAll,s=c.textWordLetterArray,u=Object(a.useCallback)((function(e,t){return e.filter((function(e){return e.index===t})).length>0}),[]),f=Object(a.useCallback)((function(e){var t=l(i).instances;if(t instanceof Object)for(var n in t){var a=t[n];if(a instanceof Object&&e===a.name.en)return a}return{}}),[l,i]),m=Object(a.useCallback)((function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],r=a.init,c=a.index,i=a.type,l=a.bezier;t.push({index:c,easing:l,instance:f(i),settings:f(r)})}return t}),[f]),d=Object(a.useCallback)((function(e,t){if(t instanceof Object===!1||0===t.length)return!1;for(var n=[],a=s(e).filter((function(e){return 1===e.character})),r=0;r<a.length;r++){var c=a[r],i=c.item,l=c.index,f=t[r];if(f)for(var b=0;b<f.limit;b++){var d=Math.floor(Math.random()*c.item.length+1),v=Math.floor(Math.random()*f.limit+1),p=i[d-1],j="".concat(p,"-").concat(d-1,"-").concat(l.toString()[l.length-1]),O=f.letters[v];!1===u(n,j)&&O instanceof Object&&n.push({value:p,index:j,type:O.type,bezier:f.letters[v].bezier,init:f.init})}}o(m(n))}),[s,o,u,m]);return r.a.createElement(R.Provider,{value:{generate:d}},t)},M=function(e){var t=e.children;return r.a.createElement(A,null,r.a.createElement(V,null,r.a.createElement(u,null,r.a.createElement(y,null,r.a.createElement(j,null,r.a.createElement(B,null,t))))))},z=n(401),W=n(76),H=n(78),U=n(391),D=n(395),q=n(390),J=(n(239),Object(a.memo)((function(){var e=Object(a.useContext)(s),t=e.current,n=e.setCurrent,c=e.play,i=Object(a.useCallback)((function(e){n(e)}),[n]),l=Object(a.useCallback)((function(){for(var e=function(e){setTimeout((function(){return n(e)}),1e3)},t=0;t<100;t++)e(t)}),[n]);return r.a.createElement(D.a,{className:"animation-slider",xs:24},r.a.createElement("div",{className:"animation-slider--title"},r.a.createElement("p",null,"Time Controls")),r.a.createElement("div",{className:"animation-slider--controls"},r.a.createElement(W.a,{className:!0===c?"btn-ui active min":"btn-ui min",onClick:function(){return l()}},r.a.createElement("span",{className:"text"},"Render")),r.a.createElement(W.a,{className:"btn btn-reset",onClick:function(){return n(0)}},"refresh")),r.a.createElement("div",{className:"animation-slider--slider"},r.a.createElement(q.a,{onChange:i,min:0,max:99,value:parseInt(t.toString(),10),progress:!0,defaultValue:0})))}))),$=n(392),G=n(396),K=(n(342),Object(a.memo)((function(e){var t=e.onLoad,n=Object(a.useCallback)((function(e){if(e.length>0){var n=e[e.length-1];n instanceof Object&&t(n.blobFile)}}),[t]);return r.a.createElement($.a,{autoUpload:!0,draggable:!0,accept:".ttf",fileListVisible:!1,onChange:n},r.a.createElement(G.a,{icon:r.a.createElement(H.a,{icon:"upload"})}))}))),Q=n(398),X=n(389),Y=n(399),Z=n(397),_=(n(345),function(e){var t=e.icon,n=e.label,a=e.property,c=e.onChange,i=e.options,l=e.value;return r.a.createElement("div",{className:"text-property-slider"},r.a.createElement(Z.a,{className:"label-control"},r.a.createElement(H.a,{icon:t.toString()}),n),r.a.createElement(q.a,Object.assign({},i,{tooltip:!0,progress:!0,onChange:function(e){return c(e,a)},value:l})))}),ee=(n(346),function(e){var t=e.textProperties,n=e.setTextProperties,a=t.fontSize,c=t.lineHeight,i=t.letterSpacing,l=function(e,a){var r={};r[a]=Number(e);var c=Object(f.a)(Object(f.a)({},t),r);n(c)},o=function(e){var a=Object(f.a)(Object(f.a)({},t),{},{textAlign:e});n(a)};return r.a.createElement(Q.a,{className:"text-properties"},r.a.createElement(X.a,null,r.a.createElement(D.a,{xs:24,className:"text-properties--align"},r.a.createElement(Y.a,null,r.a.createElement(G.a,{icon:r.a.createElement(H.a,{icon:"align-left"}),onClick:function(){return o("left")}}),r.a.createElement(G.a,{icon:r.a.createElement(H.a,{icon:"align-center"}),onClick:function(){return o("center")}}),r.a.createElement(G.a,{icon:r.a.createElement(H.a,{icon:"align-right"}),onClick:function(){return o("right")}}))),r.a.createElement(D.a,{xs:24},r.a.createElement(D.a,{xs:24},r.a.createElement(_,{icon:"font",label:"Font Size",property:"fontSize",onChange:l,options:{defaultValue:60,step:1,min:32,max:200},value:a})),r.a.createElement(D.a,{xs:24},r.a.createElement(_,{icon:"text-height",label:"Line Height",property:"lineHeight",onChange:l,options:{defaultValue:.1,step:.1,min:.1,max:2},value:c})),r.a.createElement(D.a,{xs:24},r.a.createElement(_,{icon:"text-width",label:"Letter Spacing",property:"letterSpacing",onChange:l,options:{defaultValue:0,step:1,min:-20,max:20},value:i})))))}),te=(n(353),function(e){e.font;var t=Object(a.useContext)(p),n=t.textProperties,c=t.setTextProperties;return r.a.createElement("div",{className:"edit-text"},r.a.createElement(ee,{textProperties:n,setTextProperties:c}))}),ne=n(393),ae=(n(354),Object(a.memo)((function(e){var t=e.label,n=e.setText,c=e.text,i=Object(a.useCallback)((function(){var e=document.body.querySelectorAll(".letter-item-animation");if(e)for(var t=0;t<e.length;t++){var n=e[t];n instanceof Object&&n.click()}}),[]);return r.a.createElement(Q.a,{className:"input-text"},r.a.createElement(X.a,{className:"input-text--text"},r.a.createElement("label",{className:"label"},t),r.a.createElement(ne.a,{placeholder:t,name:"text",componentClass:"textarea",value:c,onChange:function(e){return n(e.toString().toUpperCase())}})),r.a.createElement(W.a,{onClick:function(){return i()}},"Send"))}))),re=n(176),ce=n(177),ie=n(58),le=n(180),oe=n(179);function se(e){var t=function(t){Object(le.a)(a,t);var n=Object(oe.a)(a);function a(e){var t;return Object(re.a)(this,a),(t=n.call(this,e)).state={direction:"none",current:0,last:void 0},t.onPrevNext=t.onPrevNext.bind(Object(ie.a)(t)),t.setCurrent=t.setCurrent.bind(Object(ie.a)(t)),t}return Object(ce.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.items;this.setState({items:e})}},{key:"setCurrent",value:function(e){if(!0===isNaN(e))return!1;var t=this.state.current;this.setState({last:t,direction:e>t?"prev":"next",current:e})}},{key:"onPrevNext",value:function(e){var t,n=this.state.current,a=this.props.items;t="prev"===e?n-1<0?a.length-1:n-1:n+1>=a.length?0:n+1,this.setState({last:n,current:t,direction:e})}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.state,this.props,{onPrevNext:this.onPrevNext,setCurrent:this.setCurrent}))}}]),a}(r.a.Component);return t.displayName="SliderBase(".concat(e.displayName||e.name,")"),t}var ue=n(75),fe=(n(355),function(e){var t=e.children,n=e.current,c=e.direction,i=e.last,l=e.onPrevNext,o=e.type,s=Object(ue.a)({onSwipedLeft:function(){return l("next")},onSwipedRight:function(){return l("prev")},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return r.a.createElement("div",Object.assign({className:"slider","data-direction":c,"data-type":o},s),r.a.createElement("ul",{className:"slider--list"},t&&a.Children.map(t,(function(e,t){return r.a.createElement("li",{className:"slider--item","data-current":n===t,"data-last":i===t},e)}))))}),me=(n(356),se((function(e){var t=e.current,n=e.last,c=e.items,i=e.onPrevNext,l=e.text,o=e.setText,s=e.setTextProperties,u=e.textPropertiesMain,f=Object(a.useContext)(R).generate,m=Object(a.useCallback)((function(e,t,n,a){s(n),o(a.toUpperCase()),f(e,t)}),[f,s,o]);return Object(a.useEffect)((function(){if(c.length>0){var e=c[0],t=e.text,n=e.template,a=e.textProperties,r=e.words;m(t,n,a,r)}}),[c,m]),r.a.createElement("div",{className:"gallery-templates"},r.a.createElement("p",null,"Templates"),r.a.createElement(fe,{current:t,direction:"",last:n,onPrevNext:i,type:"1"},c&&c.map((function(e,t){var n=e.image,a=e.template,c=e.textProperties,i=e.words;return r.a.createElement("button",{"data-active":u===c,className:"gallery-templates--item",key:t,onClick:function(){return m(l,a,c,i)}},r.a.createElement("img",{src:"/font-var-render"+n,alt:"template"}))}))))}))),be=(n(357),function(e){var t=e.names,n=t.fontFamily,a=t.version;return r.a.createElement(D.a,{className:"font-load",xs:24},r.a.createElement(D.a,{className:"font-load--content",xs:24},r.a.createElement("p",{className:"label"},"Font Family"),r.a.createElement("p",{className:"name"},n.en),r.a.createElement("p",{className:"version"},a.en)))}),de=(n(358),Object(a.memo)((function(e){var t=e.font;return r.a.createElement("div",{className:"load"},t&&r.a.createElement(be,{names:t.names}))}))),ve=n(178),pe=n.n(ve),je=Object(a.memo)((function(e){var t=e.id,n=e.width,c=e.height,i=Object(a.useContext)(s),o=Object(a.useContext)(C),u=i.current,f=o.letters,m=Object(a.useState)([]),b=Object(l.a)(m,2),d=b[0],v=b[1],p=Object(a.useRef)(null),j=Object(a.useCallback)((function(e){for(var t=atob(e.split(",")[1]),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));return n}),[]),O=Object(a.useCallback)((function(e,t){if(!e)return!1;var n=t<10?"0".concat(t):t,a=new File([new Uint8Array(j(e))],"frame-".concat(n,".png"),{type:"image/png"}),r=new FormData;r.append("file",a),pe.a.post("".concat("https://font-var-render-server.herokuapp.com/","/images"),r,{headers:{enctype:"multipart/form-data"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}),[j]),h=Object(a.useCallback)((function(e,t){if(e instanceof Object===!1)return!1;var n=new Image,a=e.toDataURL("image/png",1);n.onload=function(){var e=d;e[t]=a,O(a,t),v(e)},n.src=a}),[d,O]),g=Object(a.useCallback)((function(e){return!!Array.isArray(e)&&e.sort((function(e,t){var n=e.index.split("-"),a=parseInt("".concat(n[1]).concat(n[2]),10),r=t.index.split("-"),c=parseInt("".concat(r[1]).concat(r[2]),10);return a<c?-1:c>a?1:0}))}),[]),x=Object(a.useCallback)((function(e){var t=p.current;if(t instanceof Object){t.setAttribute("width",n),t.setAttribute("height",c);var a=t.getContext("2d");if(a.clearRect(0,0,n,c),a.beginPath(),a.fillStyle="black",a.fillRect(0,0,n,c),a){for(var r=!1,i=190,l=g(f),o=0;o<l.length;o++){var s=l[o];if(s instanceof Object){var u=s.frames[e];if(u instanceof Object){var m=u.src,b=u.index,d=u.width,v=u.height,j=b.split("-")[1];a.drawImage(m,i,c/2-j*(v/2)),r=j!==r?j:r,i+=parseInt(d.toString(),10)}}}h(t,e)}}}),[f,p,h,c,n,g]);return Object(a.useEffect)((function(){x(parseInt(Math.floor(u).toString(),10))}),[u,x]),r.a.createElement(r.a.Fragment,null,r.a.createElement("canvas",{id:t,width:n,height:c,ref:p}))})),Oe=(n(376),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=b(t).getFvarTable,l=Object(a.useContext)(C),o=l.textWordLetter,s=l.getAlign;return r.a.createElement("div",{className:"preview"},r.a.createElement(D.a,{className:"preview--content",style:Object(f.a)(Object(f.a)({},c),{},{justifyContent:s(c.textAlign)})},t&&o(t,n,i,(function(){}),3)),r.a.createElement(je,{id:"preview-canvas",width:1920,height:1080}))}))),he=(n(377),Object(a.memo)((function(e){var t=e.font,n=e.text,c=Object(a.useContext)(C),i=c.letters,l=c.setLetters,o=c.textWordLetter,s=b(t).getFvarTable,u=Object(a.useRef)(null),f=Object(a.useCallback)((function(e){return l(e)}),[l]);return r.a.createElement("div",{className:"select-letters",ref:u},r.a.createElement(D.a,{xs:24,className:"select-letters--title"},r.a.createElement("p",null,"Click to select the letter you want to transform")),r.a.createElement(D.a,{xs:24,className:"select-letters--content"},t&&o(t,n,s,f,1)),r.a.createElement(D.a,{xs:24,className:"select-letters--count"},r.a.createElement("p",null,r.a.createElement("strong",null,i.length)," letters")))}))),ge=n(400),xe=(n(378),Object(a.memo)((function(e){var t=e.font,n=e.text,c=e.textProperties,i=Object(a.useContext)(C),l=b(t).getFvarTable,o=i.letters,s=i.textWordLetter;return r.a.createElement("div",{className:"select-final-state"},r.a.createElement(D.a,{className:"select-final-state--title",xs:24},r.a.createElement("p",null,"Select the final stage to letter"),!o.length&&r.a.createElement(ge.a,{type:"error",description:r.a.createElement("p",null,"Select at least one letter in the previous section.")})),r.a.createElement(D.a,{className:"select-final-state--content",style:Object(f.a)({},c)},t&&s(t,n,l,(function(e){return console.log(e)}),2)))}))),Ee=(n(379),function(){return r.a.createElement("div",{className:"steps-header"})}),Ce=(n(380),se((function(e){var t=e.children,n=e.current,c=e.direction,i=e.last,l=e.onPrevNext,o=Object(ue.a)({onSwipedLeft:function(){return l("next")},onSwipedRight:function(){return l("prev")},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return r.a.createElement("div",Object.assign({className:"steps-slider","data-direction":c},o),r.a.createElement("ul",{className:"steps-slider--list"},t&&a.Children.map(t,(function(e,t){return r.a.createElement("li",{className:"steps-slider--item","data-active":n===t,"data-last":i===t},e)}))))}))),ye=(n(381),function(e){var t=e.onPrevNext;return r.a.createElement("div",{className:"steps-footer"},r.a.createElement("button",{className:"",onClick:function(){return t("prev")}},"back"),r.a.createElement("button",{className:"",onClick:function(){return t("next")}},"next"))}),ke=(n(382),se((function(e){var t=e.children,n=e.current,a=e.direction,c=e.last,i=e.onPrevNext;return r.a.createElement("div",{className:"steps"},r.a.createElement(Ee,{current:n,last:c,onPrevNext:i}),r.a.createElement(Ce,{current:n,direction:a,items:Array.from(Array(t).keys()),last:c,onPrevNext:i},t),r.a.createElement(ye,{onPrevNext:i}))}))),Ne=(n(383),function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],f=Object(a.useState)(!1),m=Object(l.a)(f,2),b=m[0],d=m[1],v=Object(a.useContext)(L),j=Object(a.useContext)(p),O=v.font,h=v.onLoad,g=j.text,x=j.setText,E=j.textProperties,C=j.setTextProperties;return Object(a.useEffect)((function(){(function(){var e=Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("/font-var-render","/template.json")).then((function(e){return e.json()})).then((function(e){return c(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"content--wrapper"},r.a.createElement(de,{font:O}),r.a.createElement(z.a,null,r.a.createElement(K,{onLoad:h}),r.a.createElement(W.a,{onClick:function(){return u(!0)}},r.a.createElement(H.a,{icon:"gear-circle"})),r.a.createElement(W.a,{onClick:function(){return d(!0)}},r.a.createElement(H.a,{icon:"font"}))),r.a.createElement(ke,{items:[0,1]},r.a.createElement(a.Fragment,null,r.a.createElement(me,{items:n,text:g,setText:x,textPropertiesMain:E,setTextProperties:C}),r.a.createElement(ae,{label:"Type here to text",setText:x,text:g})),r.a.createElement(a.Fragment,null,r.a.createElement(J,null),r.a.createElement(Oe,{font:O,text:g,textProperties:E})))),r.a.createElement(U.a,{size:"xs",placement:"right",show:s,onHide:function(){return u(!1)}},r.a.createElement(U.a.Header,null,r.a.createElement(U.a.Title,null,"Advanced Properties")),r.a.createElement(U.a.Body,null,r.a.createElement(he,{font:O,text:g}),r.a.createElement(xe,{font:O,text:g,textProperties:E})),r.a.createElement(U.a.Footer,null,r.a.createElement(W.a,{onClick:function(){return u(!1)},appearance:"primary"},"Confirm"),r.a.createElement(W.a,{onClick:function(){return u(!1)},appearance:"subtle"},"Cancel"))),r.a.createElement(U.a,{size:"xs",placement:"right",show:b,onHide:function(){return d(!1)}},r.a.createElement(U.a.Header,null,r.a.createElement(U.a.Title,null,"Text properties")),r.a.createElement(U.a.Body,null,r.a.createElement(te,{font:O})),r.a.createElement(U.a.Footer,null,r.a.createElement(W.a,{onClick:function(){return d(!1)},appearance:"primary"},"Confirm"),r.a.createElement(W.a,{onClick:function(){return d(!1)},appearance:"subtle"},"Cancel"))))}),Se=function(){return r.a.createElement(M,null,r.a.createElement(Ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(384);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t){}},[[181,1,2]]]);
//# sourceMappingURL=main.aadee933.chunk.js.map